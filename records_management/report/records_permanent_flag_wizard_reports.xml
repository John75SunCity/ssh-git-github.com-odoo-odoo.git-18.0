<?xml version="1.0" encoding="utf-8"?>
<!--
    This XML file defines the report for the Records Permanent Flag Wizard.
    It includes the report action and the QWeb template for rendering the report.
    The report provides a summary of the fields that have been marked as permanent
    through the wizard.
-->
<odoo>
    <data>
<!--
        Report Action for the Records Permanent Flag Wizard.
        This action defines the report that can be printed from the wizard. It specifies
        the model, report type, and other parameters for generating the report.
    -->
    <record id="report_records_permanent_flag_wizard" model="ir.actions.report">
        <field name="name">Records Permanent Flag Wizard</field>
        <field name="model">records.permanent.flag.wizard</field>
        <field name="report_type">qweb-html</field>
        <field name="report_name">records_management.report_records_permanent_flag_wizard_view</field>
        <field name="report_file">records_management.report_records_permanent_flag_wizard</field>
        <field name="print_report_name">"(Records Permanent Flag Wizard Report) %s" % (object.name or 'N/A')</field>
        <field name="binding_model_id" ref="records_management.model_records_permanent_flag_wizard"/>
        <field name="binding_type">report</field>
    </record>

    <!--
        QWeb Template for the Records Permanent Flag Wizard Report.
        This template defines the structure and content of the report. It iterates
        through the wizard's records and displays a table of the fields that have
        been flagged as permanent, showing their name and description.
    -->
    <template id="report_records_permanent_flag_wizard_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h2>Records Permanent Flag Wizard Report</h2>
                        <table class="table table-condensed">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                            <t t-if="doc.field_ids">
                                <tr t-foreach="doc.field_ids" t-as="field">
                                    <td>
                                        <span t-out="field.name"/>
                                    </td>
                                    <td>
                                        <span t-out="field.description"/>
                                    </td>
                                </tr>
                            </t>
                            </tbody>
                        </table>
                    </div>
                </t>
            </t>
        </t>
    </template>
    </data>
</odoo>
