<?xml version="1.0" encoding="utf-8"?>
<!--
    This XML file defines the report for the Scan Retrieval Item wizard.
    It includes the report action and the QWeb template for rendering the report.
    The report provides a summary of the items scanned for retrieval.
-->
<odoo>
    <!--
        Report Action for the Scan Retrieval Item wizard.
        This action defines the report that can be printed from the wizard. It specifies
        the model, report type, and other parameters for generating the report.
    -->
    <record id="report_scan_retrieval_item" model="ir.actions.report">
        <field name="name">Scan Retrieval Item</field>
        <field name="model">scan.retrieval.item</field>
        <field name="report_type">qweb-html</field>
        <field name="report_name">records_management.report_scan_retrieval_item_view</field>
        <field name="report_file">records_management.report_scan_retrieval_item</field>
        <!-- <field name="print_report_name">"(Scan Retrieval Item Report) {{ object.name or 'N/A' }}"</field> -->
        <field name="binding_model_id" ref="records_management.model_scan_retrieval_item"/>
        <field name="binding_type">report</field>
    </record>

    <!--
        QWeb Template for the Scan Retrieval Item Report.
        This template defines the structure and content of the report. It iterates
        through the wizard's records and displays a table of the fields associated
        with the scanned items, showing their name and description.
    -->
    <template id="report_scan_retrieval_item_view">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h2>Scan Retrieval Item Report</h2>
                        <table class="table table-condensed">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr t-foreach="doc.field_ids" t-as="field">
                                    <td>
                                        <span t-esc="field.name"/>
                                    </td>
                                    <td>
                                        <span t-esc="field.description"/>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </t>
            </t>
        </t>
    </template>

</odoo>
