<?xml version="1.0" encoding="utf-8"?>
<odoo noupdate="1">
    <data>
        <!-- Portal Request Submission Email Template -->
        <record id="portal_request_submitted_email" model="mail.template">
            <field name="name">Portal Request Submitted</field>
            <field name="model_id" ref="records_management.model_portal_request"/>
            <field name="email_from">${object.company_id.email or 'noreply@localhost'}</field>
            <field name="email_to">${object.company_id.email or 'admin@localhost'}</field>
            <field name="subject">New Portal Submission: ${object.name} - ${object.request_type}</field>
            <field name="body_html"><![CDATA[
                <div style="margin: 0px; padding: 0px;">
                    <p>Dear Records Management Team,</p>
                    <p>A new request has been submitted through the customer portal:</p>

                    <table border="1" cellpadding="5" cellspacing="0" style="border-collapse: collapse; width: 100%; max-width: 600px;">
                        <tr style="background-color: #f5f5f5;">
                            <td><strong>Request ID:</strong></td>
                            <td>${object.name}</td>
                        </tr>
                        <tr>
                            <td><strong>Customer:</strong></td>
                            <td>${object.partner_id.name}</td>
                        </tr>
                        <tr style="background-color: #f5f5f5;">
                            <td><strong>Request Type:</strong></td>
                            <td>${object.request_type}</td>
                        </tr>
                        <tr>
                            <td><strong>Priority:</strong></td>
                            <td>${object.priority}</td>
                        </tr>
                        <tr style="background-color: #f5f5f5;">
                            <td><strong>Description:</strong></td>
                            <td>${object.description or 'N/A'}</td>
                        </tr>
                        <tr>
                            <td><strong>Submission Date:</strong></td>
                            <td>${object.create_date}</td>
                        </tr>
                    </table>

                    <p style="margin-top: 20px;">
                        Please review and assign within 24 hours.
                    </p>

                    <p>Best regards,<br/>
                    ${object.company_id.name} Portal System</p>
                </div>
            ]]></field>
            <field name="auto_delete" eval="True"/>
            <field name="lang">${object.partner_id.lang or 'en_US'}</field>
        </record>

        <!-- Portal Request Status Update Email Template -->
        <record id="portal_request_status_update_email" model="mail.template">
            <field name="name">Portal Request Status Update</field>
            <field name="model_id" ref="records_management.model_portal_request"/>
            <field name="email_from">${object.company_id.email or 'noreply@localhost'}</field>
            <field name="email_to">${object.partner_id.email}</field>
            <field name="subject">Request ${object.name} Status Update - ${object.state}</field>
            <field name="body_html"><![CDATA[
                <div style="margin: 0px; padding: 0px;">
                    <p>Dear ${object.partner_id.name},</p>
                    <p>Your request <strong>${object.name}</strong> has been updated:</p>

                    <table border="1" cellpadding="5" cellspacing="0" style="border-collapse: collapse; width: 100%; max-width: 600px;">
                        <tr style="background-color: #f5f5f5;">
                            <td><strong>Request Type:</strong></td>
                            <td>${object.request_type}</td>
                        </tr>
                        <tr>
                            <td><strong>Current Status:</strong></td>
                            <td>${object.state.replace('_', ' ').title()}</td>
                        </tr>
                        <tr>
                            <td><strong>Last Updated:</strong></td>
                            <td>${object.write_date}</td>
                        </tr>
                    </table>

                    <p>Thank you for choosing ${object.company_id.name} for your secure document management needs.</p>

                    <p>Best regards,<br/>
                    ${object.company_id.name} Team</p>
                </div>
            ]]></field>
            <field name="auto_delete" eval="True"/>
            <field name="lang">${object.partner_id.lang or 'en_US'}</field>
        </record>

        <!-- Customer Welcome Email Template -->
        <record id="customer_welcome_email" model="mail.template">
            <field name="name">Customer Welcome Email</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="email_from">${object.company_id.email or 'welcome@localhost'}</field>
            <field name="email_to">${object.email}</field>
            <field name="subject">Welcome to ${object.company_id.name} - Your Secure Records Management Partner</field>
            <field name="body_html"><![CDATA[
                <div style="margin: 0px; padding: 0px; font-family: Arial, sans-serif;">
                    <div style="background: linear-gradient(135deg, #007cba, #005a8a); color: white; padding: 30px; text-align: center;">
                        <h1 style="margin: 0; font-size: 28px;">Welcome to ${object.company_id.name}!</h1>
                        <p style="margin: 10px 0 0 0; font-size: 16px;">Your trusted partner in secure document management</p>
                    </div>

                    <div style="padding: 30px;">
                        <p>Dear ${object.name},</p>
                        <p>Welcome to ${object.company_id.name}! We're excited to partner with you for all your secure document storage and destruction needs.</p>

                        <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
                            <h3 style="color: #007cba; margin-top: 0;">Your Portal Access</h3>
                            <p>You now have access to our customer portal where you can:</p>
                            <ul style="color: #495057;">
                                <li>Submit pickup and service requests</li>
                                <li>Track your document inventory</li>
                                <li>View destruction certificates</li>
                                <li>Monitor compliance status</li>
                                <li>Download invoices and reports</li>
                            </ul>
                        </div>

                        <h3 style="color: #007cba;">Next Steps</h3>
                        <ol>
                            <li>Log in to your portal using your credentials</li>
                            <li>Complete your company profile</li>
                            <li>Set up your preferred communication preferences</li>
                            <li>Schedule your first service if needed</li>
                        </ol>

                        <p>If you have any questions, our team is here to help.</p>

                        <p style="margin-top: 30px;">Best regards,<br/>
                        <strong>The ${object.company_id.name} Team</strong></p>
                    </div>
                </div>
            ]]></field>
            <field name="auto_delete" eval="True"/>
            <field name="lang">${object.lang or 'en_US'}</field>
        </record>

        <!-- SMS Template for Portal Request Updates -->
        <record id="portal_request_sms_notification" model="sms.template">
            <field name="name">Portal Request SMS Update</field>
            <field name="model_id" ref="records_management.model_portal_request"/>
            <field name="body">${object.company_id.name}: Your request ${object.name} is now ${object.state.replace('_', ' ').title()}.</field>
        </record>

    </data>
</odoo>
