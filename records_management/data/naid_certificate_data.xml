<odoo noupdate="1">
    <data>
        <!-- Sequence for NAID Certificates -->
        <record id="sequence_naid_certificate" model="ir.sequence">
            <field name="name">NAID Certificate Sequence</field>
            <field name="code">naid.certificate</field>
            <field name="prefix">CERT/%(year)s/</field>
            <field name="padding">5</field>
            <field name="company_id" eval="False"/>
        </record>

        <!-- Demo NAID Certificate Types -->
        <record id="naid_cert_type_destruction" model="naid.certificate.type">
            <field name="name">Certificate of Destruction</field>
            <field name="code">COD</field>
            <field name="description">Official certificate verifying secure destruction of documents</field>
            <field name="requires_witness">True</field>
            <field name="template_id" ref="naid_destruction_template"/>
        </record>

        <record id="naid_cert_type_transport" model="naid.certificate.type">
            <field name="name">Chain of Custody Certificate</field>
            <field name="code">COC</field>
            <field name="description">Certificate tracking document chain of custody</field>
            <field name="requires_witness">False</field>
        </record>

        <!-- Demo Certificate Templates -->
        <record id="naid_destruction_template" model="naid.certificate.template">
            <field name="name">Standard Destruction Certificate</field>
            <field name="certificate_type_id" ref="naid_cert_type_destruction"/>
            <field name="template_content">
                <![CDATA[
                CERTIFICATE OF DESTRUCTION
                
                Certificate Number: ${certificate.number}
                Date of Destruction: ${certificate.destruction_date}
                
                This certifies that the following materials have been securely destroyed
                in accordance with NAID AAA standards:
                
                ${certificate.destroyed_items}
                
                Destruction Method: ${certificate.destruction_method}
                Witness: ${certificate.witness_name}
                
                Authorized Signature: _________________
                Date: ${certificate.issue_date}
                ]]>
            </field>
        </record>

        <!-- Demo NAID Certificates -->
        <record id="demo_naid_certificate_001" model="naid.certificate">
            <field name="number">CERT/2024/00001</field>
            <field name="certificate_type_id" ref="naid_cert_type_destruction"/>
            <field name="partner_id" ref="base.res_partner_1"/>
            <field name="destruction_date" eval="(datetime.now() - timedelta(days=7)).strftime('%Y-%m-%d')"/>
            <field name="issue_date" eval="datetime.now().strftime('%Y-%m-%d')"/>
            <field name="destruction_method">Cross-Cut Shredding</field>
            <field name="witness_name">John Smith</field>
            <field name="state">issued</field>
            <field name="compliance_level">naid_aaa</field>
        </record>

        <record id="demo_naid_certificate_002" model="naid.certificate">
            <field name="number">CERT/2024/00002</field>
            <field name="certificate_type_id" ref="naid_cert_type_transport"/>
            <field name="partner_id" ref="base.res_partner_2"/>
            <field name="issue_date" eval="datetime.now().strftime('%Y-%m-%d')"/>
            <field name="state">draft</field>
            <field name="compliance_level">naid_aa</field>
        </record>

        <!-- Default NAID Compliance Settings -->
        <record id="naid_default_compliance_level" model="ir.config_parameter">
            <field name="key">records_management.default_naid_compliance</field>
            <field name="value">naid_aaa</field>
        </record>

        <record id="naid_certificate_validity_days" model="ir.config_parameter">
            <field name="key">records_management.certificate_validity_days</field>
            <field name="value">365</field>
        </record>

        <record id="naid_require_witness_destruction" model="ir.config_parameter">
            <field name="key">records_management.require_witness_destruction</field>
            <field name="value">True</field>
        </record>

        <!-- Email Template for Certificate Notifications -->
        <record id="email_template_naid_certificate" model="mail.template">
            <field name="name">NAID Certificate Issued</field>
            <field name="model_id" ref="model_naid_certificate"/>
            <field name="subject">NAID Certificate ${object.number} - ${object.certificate_type_id.name}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${object.partner_id.email}</field>
            <field name="body_html">
                <![CDATA[
                <div style="margin: 0px; padding: 0px;">
                    <p>Dear ${object.partner_id.name},</p>
                    
                    <p>Your NAID Certificate has been issued:</p>
                    
                    <ul>
                        <li><strong>Certificate Number:</strong> ${object.number}</li>
                        <li><strong>Type:</strong> ${object.certificate_type_id.name}</li>
                        <li><strong>Issue Date:</strong> ${object.issue_date}</li>
                        <li><strong>Compliance Level:</strong> ${object.compliance_level.upper()}</li>
                    </ul>
                    
                    <p>This certificate verifies compliance with NAID standards for secure document handling and destruction.</p>
                    
                    <p>For questions regarding this certificate, please contact us.</p>
                    
                    <p>Best regards,<br/>
                    ${object.company_id.name}</p>
                </div>
                ]]>
            </field>
        </record>
    </data>
</odoo>
