<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Demo Destruction Certificates for Testing -->
        <record id="demo_naid_certificate_001" model="destruction.certificate">
            <!-- certificate_number omitted intentionally so sequence auto-generates on create -->
            <field name="partner_id" ref="base.res_partner_1"/>
            <field name="certificate_date">2025-10-15</field>
            <field name="witness_id" ref="base.res_partner_1"/>
            <field name="destruction_type">on_site</field>
            <!-- Leave in draft initially; we will issue after adding items -->
            <field name="state">draft</field>
        </record>

        <!-- NOTE: destruction.item requires records_destruction_id (naid.destruction.record), not destruction.certificate
             Commented out until proper naid.destruction.record demo data exists -->
        <!-- <record id="demo_naid_certificate_item_001" model="destruction.item">
            <field name="records_destruction_id" ref="demo_naid_destruction_record_001"/>
            <field name="item_description">Confidential Paper Boxes</field>
            <field name="weight" eval="25.0"/>
            <field name="quantity" eval="3"/>
        </record> -->

    <!-- Issue the certificate after items exist to satisfy constraints -->
    <!-- Pre-sanitize NAID reports to avoid legacy list-type corruption errors -->
    <function model="destruction.certificate" name="xml_sanitize_naid_reports"/>
    <function model="destruction.certificate" name="xml_issue_certificate" eval="(ref('demo_naid_certificate_001'),)"/>

        <record id="demo_naid_certificate_002" model="destruction.certificate">
            <!-- certificate_number omitted intentionally so sequence auto-generates on create -->
            <field name="partner_id" ref="base.res_partner_2"/>
            <field name="certificate_date">2025-11-01</field>
            <field name="destruction_type">off_site</field>
            <field name="state">draft</field>
        </record>
    </data>
</odoo>
