<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Accessibility & Standards Compliance Overrides (Backend webclient)
             - Adds lang attribute to <html>
             - Normalizes viewport to allow user scaling (removes user-scalable=no)
             - Removes obsolete X-UA-Compatible meta if present
             - Standardizes theme-color meta for modern browsers
        -->
        <template id="records_management_accessibility_layout" name="Records Management Accessibility Overrides" inherit_id="web.layout">
            <!-- Dynamic lang attribute: derive from context lang, fallback en-US -->
            <xpath expr="/t/html" position="attributes">
                <attribute name="t-att-lang">(env.context.get('lang') or 'en_US').replace('_','-')</attribute>
            </xpath>
            <!-- Insert accessibility / modern meta tags idempotently.
                 Using head insertion instead of replace so absence of elements does not cause ParseError.
                 Potential duplicates are acceptable; browsers use the first. For stricter uniqueness,
                 a future enhancement could search and remove via server-side cleanup script. -->
            <xpath expr="//head" position="inside">
                <meta name="viewport" content="width=device-width, initial-scale=1"/>
                <meta name="theme-color" content="#3b5998"/>
                <meta name="color-scheme" content="light dark"/>
            </xpath>
        </template>
    </data>
</odoo>
