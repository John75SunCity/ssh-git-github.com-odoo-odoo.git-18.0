<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
<record id="shredding_inventory_item_view_tree" model="ir.ui.view">
        <field name="name">shredding.inventory.item.view.tree</field>
        <field name="model">shredding.inventory.item</field>
    <field name="arch" type="xml">
            <list string="Shredding Inventory Items">
                <field name="display_name" />
                <field name="container_ids" />
                <field name="document_id" />
                <field name="current_location_id" />
                <field name="state" />
                <field name="total_cost" />
                <field name="work_order_id" />
            </list>
        </field>
    </record>

    <record id="shredding_inventory_item_view_form" model="ir.ui.view">
        <field name="name">shredding.inventory.item.view.form</field>
        <field name="model">shredding.inventory.item</field>
    <field name="arch" type="xml">
            <form string="Shredding Inventory Item">
                <header>
                    <button name="action_approve_item" type="object" string="Approve for Destruction" class="oe_highlight" invisible="status != 'draft'" />
                    <button name="action_mark_retrieved" type="object" string="Mark Retrieved" invisible="status != 'pending_pickup'" />
                    <button name="action_mark_destroyed" type="object" string="Mark Destroyed" invisible="status != 'retrieved'" />
                    <field name="state" widget="statusbar" />
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="work_order_id" />
                            <field name="sequence" />
                            <field name="container_ids" invisible="document_id" />
                            <field name="document_id" invisible="container_id" />
                        </group>
                        <group>
                            <field name="current_location_id" />
                            <field name="original_location_id" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Costing">
                            <group>
                                <group>
                                    <field name="retrieval_cost" />
                                    <field name="permanent_removal_cost" />
                                </group>
                                <group>
                                    <field name="shredding_cost" />
                                    <field name="total_cost" />
                                </group>
                            </group>
                        </page>
                        <page string="Approval &amp;amp; Tracking">
                            <group>
                                <group>
                                    <field name="customer_approved" />
                                    <field name="supervisor_approved" />
                                    <field name="approval_date" />
                                </group>
                                <group>
                                    <field name="retrieved_date" />
                                    <field name="destruction_date" />
                                    <field name="retrieved_by" />
                                    <field name="destroyed_by" />
                                </group>
                            </group>
                            <group>
                                <field name="retrieval_notes" />
                                <field name="destruction_notes" />
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" />
                    <field name="activity_ids" />
                    <field name="message_ids" />
                </div>
            </form>
        </field>
    </record>

        <record id="shredding_inventory_item_action" model="ir.actions.act_window">
        <!-- OPTIMIZATION: Model shredding.inventory.item has state field - consider using default search filters -->
        <field name="name">Shredding Inventory Items</field>
        <field name="res_model">shredding.inventory.item</field>
        <field name="view_mode">list,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                <i class="fa fa-scissors"/> Create your first shredding inventory item
            </p>
            <p><b>‚ö†Ô∏è Prerequisites:</b></p>
            <ul>
                <li>‚úì <b>Work order created</b> - Go to: <i>Work Orders &gt; Shredding</i></li>
                <li>‚úì <b>Containers or documents ready</b> - Items must be in system</li>
                <li>‚úì <b>Locations defined</b> - Both current and original locations</li>
            </ul>
            <p><b>üìã To create a shredding item:</b></p>
            <ol>
                <li>Click <b>New</b> to open the shredding item form</li>
                <li>Auto-generated <b>Display Name</b></li>
                <li>Link to a <b>Work Order</b> (shredding job)</li>
                <li>Set <b>Sequence</b> (order within work order)</li>
                <li>Select <b>Containers</b> (if shredding full boxes) OR <b>Document</b> (single file)</li>
                <li>Set <b>Current Location</b> (where item is now)</li>
                <li>Record <b>Original Location</b> (permanent storage location)</li>
                <li>Track through these <b>States</b>:
                    <ul>
                        <li><b>Draft:</b> Item added to work order</li>
                        <li><b>Pending Pickup:</b> Awaiting retrieval</li>
                        <li><b>Retrieved:</b> Item in possession</li>
                        <li><b>Destroyed:</b> Shredding complete</li>
                    </ul>
                </li>
                <li>Review <b>Costing</b>:
                    <ul>
                        <li><b>Retrieval Cost:</b> Getting the item</li>
                        <li><b>Permanent Removal Cost:</b> Offsite disposal</li>
                        <li><b>Shredding Cost:</b> Destruction fee</li>
                        <li><b>Total Cost:</b> Auto-calculated sum</li>
                    </ul>
                </li>
                <li>Manage <b>Approvals</b>:
                    <ul>
                        <li>Click <b>Approve for Destruction</b> (when in draft)</li>
                        <li><b>Customer Approved:</b> Client authorization</li>
                        <li><b>Supervisor Approved:</b> Internal clearance</li>
                        <li><b>Approval Date:</b> When authorization granted</li>
                    </ul>
                </li>
                <li>Progress through workflow:
                    <ul>
                        <li>Click <b>Mark Retrieved</b> (when picked up)</li>
                        <li>Record <b>Retrieved Date</b> and <b>Retrieved By</b></li>
                        <li>Click <b>Mark Destroyed</b> (after shredding)</li>
                        <li>Record <b>Destruction Date</b> and <b>Destroyed By</b></li>
                    </ul>
                </li>
                <li>Add <b>Retrieval Notes</b> (pickup details)</li>
                <li>Add <b>Destruction Notes</b> (witness statements)</li>
                <li>Use <b>Chatter</b> for activity tracking</li>
                <li>Click <b>Save</b> to create the item</li>
            </ol>
            <p><b>üöÄ Key Features:</b><br/>
            ‚Ä¢ <b>Dual approval:</b> Customer + supervisor authorization<br/>
            ‚Ä¢ <b>Cost breakdown:</b> Retrieval, removal, shredding tracked separately<br/>
            ‚Ä¢ <b>State workflow:</b> Draft ‚Üí Pending Pickup ‚Üí Retrieved ‚Üí Destroyed<br/>
            ‚Ä¢ <b>Location tracking:</b> Current vs original locations<br/>
            ‚Ä¢ <b>Personnel accountability:</b> Track who retrieved and destroyed<br/>
            ‚Ä¢ <b>Date stamping:</b> Approval, retrieval, destruction dates<br/>
            ‚Ä¢ <b>Work order linking:</b> Batch items into jobs<br/>
            ‚Ä¢ <b>Notes system:</b> Document pickup and destruction details<br/>
            </p>
            <p><b>üí° Pro Tips:</b><br/>
            ‚Ä¢ Get dual approval BEFORE retrieval (compliance requirement)<br/>
            ‚Ä¢ Record actual costs for accurate billing<br/>
            ‚Ä¢ Use retrieval notes to document witness signatures<br/>
            ‚Ä¢ Mark destroyed immediately after shredding (audit trail)<br/>
            ‚Ä¢ Sequence items for efficient pickup routing<br/>
            </p>
        </field>
    </record>

    <record id="shredding_picklist_item_view_tree" model="ir.ui.view">
        <field name="name">shredding.picklist.item.view.tree</field>
        <field name="model">shredding.picklist.item</field>
    <field name="arch" type="xml">
            <list string="Picklist Items" editable="bottom">
                <field name="display_name" />
                <field name="container_id" />
                <field name="document_id" />
                <field name="location_id" />
                <field name="state" />
                <field name="picked_by" />
                <field name="picked_date" />
                <field name="notes" />
                <button name="action_mark_picked" type="object" string="Mark Picked" icon="fa-check" invisible="status != 'pending_pickup'" />
                <button name="action_mark_not_found" type="object" string="Not Found" icon="fa-exclamation-triangle" invisible="status != 'pending_pickup'" />
            </list>
        </field>
    </record>

    <record id="shredding_picklist_item_view_form" model="ir.ui.view">
        <field name="name">shredding.picklist.item.view.form</field>
        <field name="model">shredding.picklist.item</field>
    <field name="arch" type="xml">
            <form string="Picklist Item">
                <header>
                    <button name="action_mark_picked" type="object" string="Mark Picked" class="oe_highlight" invisible="status != 'pending_pickup'" />
                    <button name="action_mark_not_found" type="object" string="Mark Not Found" invisible="status != 'pending_pickup'" />
                    <field name="state" widget="statusbar" />
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="work_order_id" />
                            <field name="sequence" />
                            <field name="container_id" invisible="document_id" />
                            <field name="document_id" invisible="container_id" />
                            <field name="location_id" />
                        </group>
                        <group>
                            <field name="picked_by" />
                            <field name="picked_date" />
                        </group>
                    </group>
                    <group>
                        <field name="notes" />
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" />
                    <field name="activity_ids" />
                    <field name="message_ids" />
                </div>
            </form>
        </field>
    </record>

    <record id="action_shredding_picklist_item" model="ir.actions.act_window">
        <field name="name">Picklist Items</field>
        <field name="res_model">shredding.picklist.item</field>
        <field name="view_mode">list,form</field>
    </record>



    <!-- Shredding Inventory moved to Inventory menu -->
    <menuitem id="menu_shredding_inventory_root" name="Shredding Inventory" parent="records_management.menu_records_inventory" sequence="30" />

    <menuitem id="menu_shredding_inventory_items" name="Inventory Items" parent="records_management.menu_shredding_inventory_root" action="records_management.shredding_inventory_item_action" sequence="10" />

    <menuitem id="menu_shredding_picklist_items" name="Picklist Items" parent="records_management.menu_shredding_inventory_root" action="action_shredding_picklist_item" sequence="20" />


    </data>
</odoo>
