<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>
<!-- Kanban view for Paper -->
<record id="paper_bale_view_kanban" model="ir.ui.view">
<field name="name">paper.bale.view.kanban</field>
    <field name="model">paper.bale</field>
    <field name="arch" type="xml">
<kanban default_group_by="state" class="o_kanban_paper_bale_dashboard">
    <field name="name"/>
    <field name="bale_number"/>
    <field name="weight"/>

<field name="state"/>
<field name="source_date"/>
<field name="paper_grade"/>
<templates>
<t t-name="kanban-box">
    <div class="oe_kanban_card oe_kanban_global_click">
        <div class="o_kanban_card_header">
            <div class="o_kanban_card_header_title">
                <div class="o_primary">
<strong>
    <span aria-hidden="true"><i class='fa fa-box'/></span>
    <span class="sr-only">Bale</span>
    <field name="name"/>
</strong>
</div>
<div class="o_secondary">
                                            üè∑Ô∏è<field name="bale_number"/>
</div>
</div>
<div class="o_kanban_manage_button_section">
<a class="o_kanban_manage_toggle_button" href="#">
<i class='fa fa-ellipsis-v' title="More options" role="img" aria-label="More options"/>
</a>
</div>
</div>
<div class="o_kanban_card_content" t-att-title="record.display_name.raw_value" t-att-aria-label="record.display_name.raw_value" role="group">
<div class="row">
<div class="col-8">
<div>
    <i class='fa fa-balance-scale' aria-hidden="true"/>

Weight:<field name="weight"/>
 kg
</div>
<div>
<i class='fa fa-calendar' aria-hidden="true"/>

Created:<field name="source_date"/>
</div>
<div>
<i class='fa fa-star' aria-hidden="true"/>

Grade:<field name="paper_grade"/>
</div>
</div>
<div class="col-4">
<span class="badge badge-success" t-if="record.state.raw_value == 'shipped'">
                                                <i class='fa fa-truck'"/> Shipped
</span>
<span class="badge" t-att-class="record.paper_grade.raw_value === 'wht' ? 'badge-success' : record.paper_grade.raw_value === 'mix' ? 'badge-warning' : 'badge-secondary'">
    <field name="paper_grade"/>
</span>
</div>
</div>
<div class="row mt-2">
<div class="col-6">
<button class="btn btn-primary btn-sm" type="object" name="action_weigh_bale">
                                                <i class='fa fa-balance-scale'"/> Weigh
</button>
</div>
<div class="col-6">
<button class="btn btn-success btn-sm" type="object" name="action_load_trailer">
                                                <i class='fa fa-truck'"/> Load
</button>
</div>
</div>
</div>
<div class="o_kanban_card_manage_pane dropdown-menu" role="menu">
<a role="menuitem" type="edit" class="dropdown-item"><i class='fa fa-edit'/> Edit Bale</a>
<a role="menuitem" type="object" name="action_quality_inspection" class="dropdown-item"><i class='fa fa-search'/> Quality Check</a>
<a role="menuitem" type="object" name="action_print_label" class="dropdown-item">üè∑Ô∏è Print Label</a>
<a role="menuitem" type="object" name="action_view_source_documents" class="dropdown-item"><i class='fa fa-file-o'/> Source Documents</a>
<div class="dropdown-divider"/>

</div>
</div>
</t>
</templates>
</kanban>
</field>
</record>

<!-- List view for Enhanced -->
<record id="paper_bale_view_tree" model="ir.ui.view">
    <field name="name">paper.bale.view.tree</field>
    <field name="model">paper.bale</field>
    <field name="arch" type="xml">
<list decoration-success="state == 'shipped'" decoration-warning="state == 'weighed'" decoration-info="paper_grade == 'wht'">
    <field name="name" string=" Bale ID"/>
    <field name="bale_number" string="üè∑Ô∏è Bale Number"/>

<field name="source_date" string=" Created"/>
<field name="weight" string=" Weight (kg)"/>
<field name="paper_grade" string=" Grade" widget="badge"/>
<field name="source_type" string=" Source Type"/>
<field name="location_id" string=" Location"/>
<field name="state" string=" Status" widget="badge"/>
<button name="action_weigh_bale" type="object" string="Weigh" icon="fa-balance-scale" class="btn-link" title="Weigh Bale"
invisible="state in ('weighed', 'shipped')"/>
<button name="action_load_trailer" type="object" string="Load" icon="fa-truck" class="btn-link" title="Load on Trailer"
invisible="state == 'shipped'"/>
</list>
</field>
</record>

<!-- Form view for Enhanced -->
<record id="paper_bale_view_form" model="ir.ui.view">
    <field name="name">paper.bale.view.form</field>
    <field name="model">paper.bale</field>
    <field name="arch" type="xml">
        <form>
            <header>
                <button name="action_weigh_bale" type="object" string=" Weigh Bale"
class="btn-primary" invisible="state in ('weighed', 'shipped')"/>
<button name="action_quality_inspection" type="object" string=" Quality Inspection" class="btn-secondary"/>
<button name="action_load_trailer" type="object" string=" Load on Trailer"
class="btn-info" invisible="state == 'shipped'"/>
<button name="action_print_label" type="object" string="üè∑Ô∏è Print Label" class="btn-success"/>

<field name="state" widget="statusbar" statusbar_visible="draft,weighed,in_stock,shipped"/>
</header>
<sheet>
<div class="oe_button_box" name="button_box">
<button class="oe_stat_button" type="object" name="action_view_inspections" icon="fa-file-text" title="View Inspections">
    <field name="inspection_count" string="Inspections" widget="statinfo"/>
</button>
<button class="oe_stat_button" type="object" name="action_view_movements" icon="fa-history" title="View Movement History">
    <field name="movement_count" string="Movements" widget="statinfo"/>
</button>
</div>

<group>
    <group string=" Bale Identification">
        <field name="name" placeholder="e.g., BALE-2024-001"/>
        <field name="bale_number"/>

<field name="weigh_date"/>
<field name="location_id"/>
</group>
<group string=" Paper Classification">
<field name="paper_grade"/>

<field name="source_type"/>
<field name="source_date"/>
<field name="weight"/>

</group>
</group>

<notebook>
<page string=" Source Information" name="source_info">
    <group>
<field name="source_notes" placeholder="Add source details..."/>

</group>
</page>
<page string=" Inspections" name="inspections">
    <field name="inspection_ids" mode="tree">
<list>
            <field name="name"/>
            <field name="inspection_date"/>

<field name="inspector_id"/>
<field name="result"/>
</list>
</field>
</page>
<page string=" Movements" name="movements">
    <field name="movement_ids" mode="tree">
<list>
            <field name="name"/>
            <field name="movement_date"/>
            <field name="from_location_id"/>
            <field name="to_location_id"/>
            <field name="user_id"/>
</list>
    </field>
</page>
</notebook>

<group>
<field name="notes" placeholder="Add bale notes..."/>
</group>
</sheet>
<div class="oe_chatter">
<field name="message_follower_ids"/>
<field name="activity_ids"/>
<field name="message_ids"/>
</div>
</form>
</field>
</record>

<!-- Search view for Enhanced -->
<record id="paper_bale_view_search" model="ir.ui.view">
    <field name="name">paper.bale.view.search</field>
    <field name="model">paper.bale</field>
    <field name="arch" type="xml">
        <search>
            <field name="name" string="Bale"/>
            <field name="bale_number"/>

<field name="paper_grade"/>
<field name="source_type"/>
<field name="location_id"/>


<filter string=" Draft" name="draft" domain="[('state', '=', 'draft')]"/>
<filter string=" Weighed" name="weighed" domain="[('state', '=', 'weighed')]"/>
<filter string=" In Stock" name="in_stock" domain="[('state', '=', 'in_stock')]"/>
<filter string=" Shipped" name="shipped" domain="[('state', '=', 'shipped')]"/>


<separator/>

<filter string=" WHT Grade" name="grade_wht" domain="[('paper_grade', '=', 'wht')]"/>
<filter string="ü•à MIX Grade" name="grade_mix" domain="[('paper_grade', '=', 'mix')]"/>
<filter string="ü•â OCC Grade" name="grade_occ" domain="[('paper_grade', '=', 'occ')]"/>


<separator/>

<filter string=" Today" name="today" domain="[('source_date', '=', context_today.strftime('%Y-%m-%d'))]"/>

<filter string="üìÜ This Week" name="this_week"
domain="[('source_date', '&gt;=', (context_today - datetime.timedelta(days=context_today.weekday())).strftime('%Y-%m-%d')),
                                    ('source_date', '&lt;=', (context_today + datetime.timedelta(days=6-context_today.weekday())).strftime('%Y-%m-%d'))]"/>
<filter string="üóìÔ∏è This Month" name="this_month"
domain="[('source_date', '&gt;=', context_today.strftime('%Y-%m-01'))]"/>

<group expand="0" string=" Group By">
<filter string="Status" name="group_by_status" context="{'group_by': 'state'}"/>
<filter string="Paper Grade" name="group_by_grade" context="{'group_by': 'paper_grade'}"/>
<filter string="Source Type" name="group_by_source_type" context="{'group_by': 'source_type'}"/>
<filter string="Location" name="group_by_location" context="{'group_by': 'location_id'}"/>
<filter string="Source Date" name="group_by_date" context="{'group_by': 'source_date:day'}"/>
</group>
</search>
</field>
</record>

<!-- Action for Paper Bales -->
<record id="action_paper_bale" model="ir.actions.act_window">
    <field name="name"><i class='fa fa-box'/> Paper Bales</field>
    <field name="res_model">paper.bale</field>
<field name="view_mode">kanban,tree,form</field>
<field name="search_view_id" ref="paper_bale_view_search"/>
<field name="context">{
                'search_default_this_month': 1
            }</field>
<field name="help" type="html">
    <p class="o_view_nocontent_smiling_face">
                    <i class='fa fa-box'/> Process your first paper bale!
    </p>
    <p>
        <b>Enterprise Paper Bale Management:</b>
        <br/>
                    ‚Ä¢ <i class='fa fa-balance-scale'/> Precision weight tracking and measurement<br/>
                    ‚Ä¢ <i class='fa fa-star'/> Comprehensive quality control and grading<br/>
                    ‚Ä¢ <i class='fa fa-file-o'/> Complete source document traceability<br/>
                    ‚Ä¢ <i class='fa fa-truck'/> Advanced trailer loading optimization<br/>
                    ‚Ä¢ <i class='fa fa-search'/> Real-time quality inspection workflows<br/>

‚Ä¢ <i class='fa fa-bar-chart'/> Performance analytics and efficiency metrics<br/>
                    ‚Ä¢ ‚ôªÔ∏è Sustainable recycling process management
</p>
</field>
</record>
</data>
</odoo>
