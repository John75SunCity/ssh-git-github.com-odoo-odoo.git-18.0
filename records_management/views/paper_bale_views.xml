<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
<!-- Tree view for ENTERPRISE -->
    
    <!-- Kanban view for Paper -->
    <record id="paper_bale_view_kanban" model="ir.ui.view">
        <field name="name">paper.bale.view.kanban</field>
        <field name="model">paper.bale</field>
        <field name="type">list</field>
        <field name="arch" type="xml">
            <kanban default_group_by="bale_status" class="o_kanban_paper_bale_dashboard">
                <field name="name"/>
                <field name="bale_number"/>
                <field name="weight"/>
                <field name="bale_status"/>
                <field name="creation_date"/>
                <field name="loaded_on_trailer"/>
                <field name="quality_grade"/>
                <templates>
                    <t t-name="card">
                        <div class="oe_kanban_card oe_kanban_global_click">
                            <div class="o_kanban_card_header">
                                <div class="o_kanban_card_header_title">
                                    <div class="o_primary">
                                        <strong>üì¶ <field name="name"/></strong>
                                    </div>
                                    <div class="o_secondary">
                                        üè∑Ô∏è <field name="bale_number"/>
                                    </div>
                                </div>
                                <div class="o_kanban_manage_button_section">
                                    <a class="o_kanban_manage_toggle_button" href="#"><i class="fa fa-ellipsis-v" title="More options"/></a>
                                </div>
                            </div>
                            <div class="o_kanban_card_content">
                                <div class="row">
                                    <div class="col-8">
                                        <div><i class="fa fa-balance-scale"/> Weight: <field name="weight"/> lbs</div>
                                        <div><i class="fa fa-calendar"/> Created: <field name="creation_date"/></div>
                                        <div><i class="fa fa-star"/> Grade: <field name="quality_grade"/></div>
                                    </div>
                                    <div class="col-4">
                                        <span class="badge badge-success" t-if="record.loaded_on_trailer.raw_value">
                                            üöö Loaded
                                        </span>
                                        <span class="badge" t-att-class="record.quality_grade.raw_value === 'A' ? 'badge-success' : record.quality_grade.raw_value === 'B' ? 'badge-warning' : 'badge-secondary'">
                                            <field name="quality_grade"/>
                                        </span>
                                    </div>
                                </div>
                                <div class="row mt-2">
                                    <div class="col-6">
                                        <button class="btn btn-primary btn-sm" type="object" name="action_weigh_bale">
                                            ‚öñÔ∏è Weigh
                                        </button>
                                    </div>
                                    <div class="col-6">
                                        <button class="btn btn-success btn-sm" type="object" name="action_load_trailer">
                                            üöö Load
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="o_kanban_card_manage_pane dropdown-menu" role="menu">
                                <a role="menuitem" type="edit" class="dropdown-item">‚úèÔ∏è Edit Bale</a>
                                <a role="menuitem" type="object" name="action_quality_inspection" class="dropdown-item">üîç Quality Check</a>
                                <a role="menuitem" type="object" name="action_print_label" class="dropdown-item">üè∑Ô∏è Print Label</a>
                                <a role="menuitem" type="object" name="action_view_source_documents" class="dropdown-item">üìÑ Source Documents</a>
                                <div class="dropdown-divider"/>
                                <a role="menuitem" type="object" name="action_move_to_storage" class="dropdown-item">üì¶ Move to Storage</a>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- Tree view for Enhanced -->
    <record id="paper_bale_view_tree" model="ir.ui.view">
        <field name="name">paper.bale.view.tree</field>
        <field name="model">paper.bale</field>
        <field name="type">list</field>
        <field name="arch" type="xml">
            <tree decoration-success="bale_status == 'shipped' and loaded_on_trailer == True" 
                  decoration-warning="bale_status == 'ready_for_loading'"
                  decoration-info="quality_grade == 'A'">
                <field name="name" string="üì¶ Bale ID"/>
                <field name="bale_number" string="üè∑Ô∏è Bale Number"/>
                <field name="creation_date" string="üìÖ Created"/>
                <field name="weight" string="‚öñÔ∏è Weight (lbs)"/>
                <field name="quality_grade" string="‚≠ê Grade" widget="badge"/>
                <field name="paper_type" string="üìÑ Paper Type"/>
                <field name="source_facility" string="üè¢ Source"/>
                <field name="loaded_on_trailer" string="üöö Loaded" widget="boolean_toggle"/>
                <field name="trailer_id" string="üöõ Trailer"/>
                <field name="bale_status" string="üéØ Status" widget="badge"/>
                <button name="action_weigh_bale" type="object" string="Weigh" 
                        icon="fa-balance-scale" class="btn-link" 
                        invisible="bale_status in ('weighed', 'loaded', 'shipped')"/>
                <button name="action_load_trailer" type="object" string="Load" 
                        icon="fa-truck" class="btn-link" 
                        invisible="loaded_on_trailer"/>
            </tree>
        </field>
    </record>

    <!-- Form view for Enhanced -->
    <record id="paper_bale_view_form" model="ir.ui.view">
        <field name="name">paper.bale.view.form</field>
        <field name="model">paper.bale</field>
        <field name="type">list</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button name="action_weigh_bale" type="object" string="‚öñÔ∏è Weigh Bale" 
                            class="btn-primary" invisible="bale_status in ('weighed', 'loaded', 'shipped')"/>
                    <button name="action_quality_inspection" type="object" string="üîç Quality Inspection" class="btn-secondary"/>
                    <button name="action_load_trailer" type="object" string="üöö Load on Trailer" 
                            class="btn-info" invisible="loaded_on_trailer"/>
                    <button name="action_print_label" type="object" string="üè∑Ô∏è Print Label" class="btn-success"/>
                    <field name="bale_status" widget="statusbar" statusbar_visible="created,weighed,ready_for_loading,loaded,shipped"/>
                </header>
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button class="oe_stat_button" type="object" name="action_view_source_documents" icon="fa-file-text">
                            <field string="Source Documents" name="document_count" widget="statinfo"/>
                        </button>
                        <button class="oe_stat_button" type="object" name="action_view_weight_history" icon="fa-history">
                            <field string="Weight History" name="weight_history_count" widget="statinfo"/>
                        </button>
                        <button class="oe_stat_button" type="object" name="action_view_trailer_info" icon="fa-truck">
                            <field string="Trailer Info" name="trailer_load_count" widget="statinfo"/>
                        </button>
                        <button class="oe_stat_button" icon="fa-star" 
                                invisible="quality_grade != 'A'">>
                            <div class="o_field_widget o_stat_info">
                                <span class="o_stat_value">‚≠ê</span>
                                <span class="o_stat_text">Grade A</span>
                            </div>
                        </button>
                    </div>
                    
                    <group>
                        <group string="üì¶ Bale Identification">
                            <field name="name" placeholder="e.g., BALE-2024-001"/>
                            <field name="bale_number"/>
                            <field name="creation_date"/>
                            <field name="source_facility"/>
                        </group>
                        <group string="üìÑ Paper Classification">
                            <field name="paper_type"/>
                            <field name="paper_grade"/>
                            <field name="contamination_level"/>
                            <field name="moisture_content"/>
                        </group>
                    </group>
                    
                    <group>
                        <group string="‚öñÔ∏è Weight Information">
                            <field name="weight"/>
                            <field name="weight_unit"/>
                            <field name="weighed_by"/>
                            <field name="weigh_date"/>
                        </group>
                        <group string="‚≠ê Quality Control">
                            <field name="quality_grade"/>
                            <field name="quality_inspector"/>
                            <field name="inspection_date"/>
                            <field name="quality_notes"/>
                        </group>
                    </group>
                    
                    <notebook>
                        <page string="üìÑ Source Documents" name="source_documents">
                            <field name="source_document_ids" mode="list">
                                <tree>
                                    <field name="document_type"/>
                                    <field name="document_name"/>
                                    <field name="confidentiality_level"/>
                                    <field name="destruction_date"/>
                                    <field name="customer_name"/>
                                    <field name="weight_contributed"/>
                                    <field name="naid_compliance_verified"/>
                                </tree>
                            </field>
                        </page>
                        <page string="üöö Trailer Loading" name="trailer_loading">
                            <group>
                                <group string="üöõ Trailer Information">
                                    <field name="trailer_id"/>
                                    <field name="loaded_on_trailer"/>
                                    <field name="loading_date"/>
                                    <field name="loaded_by"/>
                                </group>
                                <group string="üìã Loading Details">
                                    <field name="loading_position"/>
                                    <field name="loading_order"/>
                                    <field name="special_handling"/>
                                    <field name="loading_notes"/>
                                </group>
                            </group>
                            <field name="loading_history_ids" mode="list">
                                <tree>
                                    <field name="action_date"/>
                                    <field name="action_type"/>
                                    <field name="performed_by"/>
                                    <field name="trailer_info"/>
                                    <field name="notes"/>
                                </tree>
                            </field>
                        </page>
                        <page string="üîç Quality Inspections" name="quality">
                            <field name="quality_inspection_ids" mode="list">
                                <tree>
                                    <field name="inspection_date"/>
                                    <field name="inspector"/>
                                    <field name="inspection_type"/>
                                    <field name="contamination_found"/>
                                    <field name="moisture_reading"/>
                                    <field name="grade_assigned"/>
                                    <field name="passed_inspection"/>
                                    <button name="action_view_inspection_details" type="object" string="Details" icon="fa-eye" class="btn-link"/>
                                </tree>
                            </field>
                        </page>
                        <page string="‚öñÔ∏è Weight History" name="weight_history">
                            <field name="weight_measurement_ids" mode="list">
                                <tree>
                                    <field name="measurement_date"/>
                                    <field name="weight_recorded"/>
                                    <field name="scale_used"/>
                                    <field name="measured_by"/>
                                    <field name="measurement_type"/>
                                    <field name="variance_from_previous"/>
                                    <field name="notes"/>
                                </tree>
                            </field>
                        </page>
                        <page string="üìä Analytics" name="analytics">
                            <group>
                                <group string="üìà Performance Metrics">
                                    <field name="processing_time" readonly="1"/>
                                    <field name="weight_efficiency" readonly="1"/>
                                    <field name="quality_score" readonly="1"/>
                                    <field name="contamination_percentage" readonly="1"/>
                                </group>
                                <group string="üí∞ Value Information">
                                    <field name="estimated_value" readonly="1"/>
                                    <field name="market_price_per_lb" readonly="1"/>
                                    <field name="revenue_potential" readonly="1"/>
                                    <field name="processing_cost" readonly="1"/>
                                </group>
                            </group>
                        </page>
                        <page string="üå± Environmental Impact" name="environmental">
                            <group>
                                <group string="‚ôªÔ∏è Recycling Metrics">
                                    <field name="carbon_footprint_saved"/>
                                    <field name="trees_saved_equivalent"/>
                                    <field name="energy_saved"/>
                                    <field name="water_saved"/>
                                </group>
                                <group string="üèÜ Certifications">
                                    <field name="environmental_certification"/>
                                    <field name="sustainable_source"/>
                                    <field name="chain_of_custody_verified"/>
                                    <field name="carbon_neutral"/>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids"/>
                    <field name="activity_ids"/>
                    <field name="message_ids"/>
                </div>
            </form>
        </field>
    </record>

    <!-- Search view for Enhanced -->
    <record id="paper_bale_view_search" model="ir.ui.view">
        <field name="name">paper.bale.view.search</field>
        <field name="model">paper.bale</field>
        <field name="type">search</field>
        <field name="arch" type="xml">
            <search>
                <field name="name" string="Bale"/>
                <field name="bale_number"/>
                <field name="paper_type"/>
                <field name="source_facility"/>
                <field name="trailer_id"/>
                
                <filter string="üì¶ Created" name="created" domain="[('bale_status', '=', 'created')]"/>
                <filter string="‚öñÔ∏è Weighed" name="weighed" domain="[('bale_status', '=', 'weighed')]"/>
                <filter string="üöö Ready for Loading" name="ready_loading" domain="[('bale_status', '=', 'ready_for_loading')]"/>
                <filter string="üöõ Loaded" name="loaded" domain="[('bale_status', '=', 'loaded')]"/>
                <filter string="üì¶ Shipped" name="shipped" domain="[('bale_status', '=', 'shipped')]"/>
                
                <separator/>
                <filter string="‚≠ê Grade A" name="grade_a" domain="[('quality_grade', '=', 'A')]"/>
                <filter string="ü•à Grade B" name="grade_b" domain="[('quality_grade', '=', 'B')]"/>
                <filter string="ü•â Grade C" name="grade_c" domain="[('quality_grade', '=', 'C')]"/>
                
                <separator/>
                <filter string="üöö On Trailer" name="on_trailer" domain="[('loaded_on_trailer', '=', True)]"/>
                <filter string="üì¶ In Storage" name="in_storage" domain="[('loaded_on_trailer', '=', False)]"/>
                <filter string="üå± Sustainable Source" name="sustainable" domain="[('sustainable_source', '=', True)]"/>
                
                <separator/>
                <filter string="üìÖ Today" name="today" domain="[('creation_date', '=', context_today())]"/>
                <filter string="üìÜ This Week" name="this_week" 
                        domain="[('creation_date', '&amp;gt;=', (context_today() - relativedelta(days=context_today().weekday())).strftime('%Y-%m-%d')), 
                                ('creation_date', '&lt;', (context_today() + relativedelta(days=7-context_today().weekday())).strftime('%Y-%m-%d'))]"/>
                <filter string="üóìÔ∏è This Month" name="this_month" 
                        domain="[('creation_date', '&amp;gt;=', context_today().strftime('%Y-%m-01'))]"/>
                
                <group expand="0" string="üìä Group By">
                    <filter string="Status" name="group_by_status" context="{'group_by': 'bale_status'}"/>
                    <filter string="Quality Grade" name="group_by_grade" context="{'group_by': 'quality_grade'}"/>
                    <filter string="Paper Type" name="group_by_paper_type" context="{'group_by': 'paper_type'}"/>
                    <filter string="Source Facility" name="group_by_source" context="{'group_by': 'source_facility'}"/>
                    <filter string="Trailer" name="group_by_trailer" context="{'group_by': 'trailer_id'}"/>
                    <filter string="Creation Date" name="group_by_date" context="{'group_by': 'creation_date:day'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- Tree view for ENTERPRISE -->
    <record id="action_paper_bale" model="ir.actions.act_window">
        <field name="name">üì¶ Paper Bales</field>
        <field name="res_model">paper.bale</field>
        <field name="view_mode">kanban,list,form</field>
        <field name="search_view_id" ref="view_paper_bale_search"/>
        <field name="context">{
            'search_default_this_month': 1
        }</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                üì¶ Process your first paper bale!
            </p>
            <p>
                <b>Enterprise Paper Bale Management:</b><br/>
                ‚Ä¢ ‚öñÔ∏è Precision weight tracking and measurement<br/>
                ‚Ä¢ ‚≠ê Comprehensive quality control and grading<br/>
                ‚Ä¢ üìÑ Complete source document traceability<br/>
                ‚Ä¢ üöö Advanced trailer loading optimization<br/>
                ‚Ä¢ üîç Real-time quality inspection workflows<br/>
                ‚Ä¢ üå± Environmental impact tracking and reporting<br/>
                ‚Ä¢ üí∞ Market value analysis and revenue optimization<br/>
                ‚Ä¢ üìä Performance analytics and efficiency metrics<br/>
                ‚Ä¢ ‚ôªÔ∏è Sustainable recycling process management
            </p>
        </field>
    </record>
</data>
</odoo>
