<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="records_audit_log_view_tree" model="ir.ui.view">
            <field name="name">records.audit.log.view.tree</field>
            <field name="model">records.audit.log</field>
            <field name="arch" type="xml">
                <list>
                    <field name="description" />
                    <field name="event_type" />
                    <field name="user_id" />
                    <field name="timestamp" />
                    <field name="res_model" />
                    <field name="res_name" />
                </list>
            </field>
        </record>
        <record id="records_audit_log_view_form" model="ir.ui.view">
            <field name="name">records.audit.log.view.form</field>
            <field name="model">records.audit.log</field>
            <field name="arch" type="xml">
                <form string="Records Audit Log">
                    <sheet>
                        <div class="oe_title">
                            <label for="description" />
                            <h1>
                                <field name="description" placeholder="Description..." />
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="event_type" />
                                <field name="user_id" />
                                <field name="timestamp" />
                            </group>
                            <group>
                                <field name="res_model" />
                                <field name="res_name" />
                                <field name="ip_address" />
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="records_audit_log_view_search" model="ir.ui.view">
            <field name="name">records.audit.log.view.search</field>
            <field name="model">records.audit.log</field>
            <field name="arch" type="xml">
                <search>
                    <field name="description" />
                    <field name="event_type" />
                    <field name="user_id" />
                    <field name="res_model" />
                    <group expand="1" string="Group By">
                        <filter string="Event Type" name="event_type" domain="[]" context="{'group_by':'event_type'}" />
                        <filter string="User" name="user_id" domain="[]" context="{'group_by':'user_id'}" />
                        <filter string="Model" name="res_model" domain="[]" context="{'group_by':'res_model'}" />
                    </group>
                </search>
            </field>
        </record>
        <record id="action_records_audit_log" model="ir.actions.act_window">
            <!-- OPTIMIZATION: Model records.audit.log has state field - consider using default search filters -->
            <field name="name">Records Audit Log</field>
            <field name="res_model">records.audit.log</field>
            <field name="view_mode">list,form</field>
            <field name="domain">[]</field>
            <field name="context">{}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    <i class="fa fa-history"/> No audit events logged yet!
                </p>
                <p>
                    <b>‚ö†Ô∏è Important:</b> Audit logs are <b>read-only and immutable</b>. They auto-create when events occur - you cannot manually add entries.
                </p>
                <p>
                    <b>üìã Automatic Event Logging:</b>
                </p>
                <ul>
                    <li><b>Container Events:</b> Create, modify, move, destroy, retrieve</li>
                    <li><b>Document Events:</b> Upload, view, download, delete, share</li>
                    <li><b>Access Events:</b> User login, permission changes, unauthorized access attempts</li>
                    <li><b>Destruction Events:</b> Shredding, certificate generation, witness signatures</li>
                    <li><b>Chain of Custody:</b> Transfers, pickups, deliveries, location changes</li>
                    <li><b>System Events:</b> Configuration changes, security updates, backup operations</li>
                </ul>
                <p>
                    <b>üîç How to search audit logs:</b>
                </p>
                <ol>
                    <li>Use <b>Search Bar</b> to find by description keywords</li>
                    <li>Filter by <b>Event Type</b>: Access, Create, Update, Delete, Destroy, Transfer, etc.</li>
                    <li>Filter by <b>User</b>: See all actions by specific employee</li>
                    <li>Filter by <b>Model</b>: Records.Container, Records.Document, Shredding.Hard.Drive, etc.</li>
                    <li>Group by <b>Event Type</b> to analyze patterns (e.g., unusual deletions)</li>
                    <li>Group by <b>User</b> to audit individual employee actions</li>
                    <li>Group by <b>Model</b> to track activity on specific record types</li>
                    <li>Check <b>Timestamp</b> for exact date/time of event (down to the second)</li>
                    <li>Review <b>IP Address</b> to verify event origin location</li>
                    <li>Click <b>Res Model</b> + <b>Res Name</b> to see which specific record was affected</li>
                </ol>
                <p>
                    <b>üìä Audit Log Use Cases:</b>
                </p>
                <ul>
                    <li><b>Compliance Verification:</b> Prove to auditors that NAID procedures were followed</li>
                    <li><b>Security Investigation:</b> Track unauthorized access attempts or suspicious deletions</li>
                    <li><b>Dispute Resolution:</b> Show customer when document was destroyed or who retrieved it</li>
                    <li><b>Employee Accountability:</b> Verify which staff member handled sensitive operations</li>
                    <li><b>System Forensics:</b> Diagnose data issues by reviewing historical changes</li>
                    <li><b>Legal Discovery:</b> Export audit trail for litigation or regulatory requests</li>
                </ul>
                <p>
                    <b>üöÄ Key Features:</b><br/>
                    ‚Ä¢ <b>Immutable Records:</b> Cannot be edited or deleted (tamper-proof compliance)<br/>
                    ‚Ä¢ <b>Automatic Creation:</b> Triggers fire on every significant system event<br/>
                    ‚Ä¢ <b>Complete Context:</b> Logs user, timestamp, IP, affected record, before/after values<br/>
                    ‚Ä¢ <b>Cross-Model Tracking:</b> Audit trails span containers, documents, users, destruction, etc.<br/>
                    ‚Ä¢ <b>IP Address Logging:</b> Geographic verification of event origin<br/>
                    ‚Ä¢ <b>Timestamp Precision:</b> Sub-second accuracy for event sequencing<br/>
                    ‚Ä¢ <b>Export Capability:</b> Generate audit reports for external auditors or legal counsel<br/>
                    ‚Ä¢ <b>Long-Term Retention:</b> Logs never auto-delete (complies with 7-year retention standards)<br/>
                </p>
                <p>
                    <b>üí° Pro Tips:</b><br/>
                    ‚Ä¢ Filter by <b>Event Type = Delete</b> to audit all record deletions for compliance review<br/>
                    ‚Ä¢ Group by <b>User</b> + filter by <b>yesterday</b> to quickly review daily employee activity<br/>
                    ‚Ä¢ Use <b>Model filter</b> to focus on high-risk operations (e.g., Shredding.Hard.Drive events)<br/>
                    ‚Ä¢ Check <b>IP Address</b> column for remote access - flags potential security issues<br/>
                    ‚Ä¢ Export logs monthly for <b>off-system backup</b> (redundant audit trail protection)<br/>
                    ‚Ä¢ Show audit log to customers during disputes - immutable proof of actions taken<br/>
                </p>
            </field>
        </record>
    </data>
</odoo>
