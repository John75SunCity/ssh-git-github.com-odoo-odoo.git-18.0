<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
<record id="container_access_photo_view_tree" model="ir.ui.view">
        <field name="name">container.access.photo.view.tree</field>
        <field name="model">container.access.photo</field>
        <field name="arch" type="xml">
        <list string="Container Access Photos">
            <field name="name" />
            <field name="activity_id" />
            <field name="image_filename" />
            <field name="create_date" string="Created" />
        </list>
    </field>
    </record>


    <record id="container_access_photo_view_form" model="ir.ui.view">
        <field name="name">container.access.photo.view.form</field>
        <field name="model">container.access.photo</field>
        <field name="arch" type="xml">
        <form string="Container Access Photo">
            <sheet>
                <group>
                    <group name="photo_info" string="Photo Information">
                        <field name="name" />
                        <field name="activity_id" required="1" />
                        <field name="company_id" />
                    </group>
                    <group name="file_info" string="File Details">
                        <field name="image_filename" />
                        <field name="photo_id" />
                    </group>
                </group>

                <notebook>
                    <page string="Image" name="image">
                        <field name="image" widget="image" class="oe_avatar_big" />
                    </page>
                </notebook>
            </sheet>

            <div class="oe_chatter">
                <field name="message_follower_ids" />
                <field name="message_ids" />
            </div>
        </form>
    </field>
    </record>


    <record id="container_access_photo_view_search" model="ir.ui.view">
        <field name="name">container.access.photo.view.search</field>
        <field name="model">container.access.photo</field>
        <field name="arch" type="xml">
        <search string="Search Container Access Photos">
            <field name="name" />
            <field name="activity_id" />
            <field name="image_filename" />

            <separator />
            <group expand="1" string="Group By">
                <filter string="Activity" name="group_activity" domain="[]" context="{'group_by': 'activity_id'}" />
                <filter string="Created Date" name="group_date" domain="[]" context="{'group_by': 'create_date:day'}" />
            </group>
        </search>
    </field>
    </record>


    <record id="container_access_photo_view_kanban" model="ir.ui.view">
        <field name="name">container.access.photo.view.kanban</field>
        <field name="model">container.access.photo</field>
        <field name="arch" type="xml">
        <kanban string="Container Access Photos" class="o_kanban_mobile">
            <field name="id" />
            <field name="name" />
            <field name="activity_id" />
            <field name="image_filename" />
            <field name="image" />
            <field name="create_date" />

            <templates>
                <t t-name="card">
                    <div class="oe_kanban_global_click">
                        <div class="oe_kanban_image">
                            <img t-att-src="kanban_image('container.access.photo', 'image', record.id.raw_value)" alt="Access Photo" class="o_image_64_cover" />
                        </div>

                        <div class="oe_kanban_details">
                            <div class="o_kanban_record_top">
                                <div class="o_kanban_record_headings">
                                    <strong class="o_kanban_record_title">
                                        <t t-esc="record.name.value" />
                                    </strong>
                                </div>

                                <div class="o_kanban_record_body">
                                    <div>
                                        <span class="badge badge-info">
                                            <t t-esc="record.activity_id.value" />
                                        </span>
                                    </div>
                                    <div t-if="record.image_filename.value">
                                        <small><t t-esc="record.image_filename.value" /></small>
                                    </div>
                                </div>
                            </div>

                            <div class="o_kanban_record_bottom">
                                <div class="oe_kanban_bottom_left">
                                    <time t-esc="record.create_date.value" />
                                </div>
                            </div>
                        </div>
                    </div>
                </t>
            </templates>
        </kanban>
    </field>
    </record>


    <record id="action_container_access_photo" model="ir.actions.act_window">
        <field name="name">Container Access Photos</field>
        <field name="res_model">container.access.photo</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[]</field>
        <field name="context">{}</field>
        <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
            No container access photos found!
        </p>
        <p>
            Photos are automatically created when container access activities are documented.
            Use the camera integration to capture before/after photos of container access operations.
        </p>
    </field>
    </record>



    <menuitem id="menu_container_access_photos" name="Access Photos" parent="records_management.menu_container_access" action="action_container_access_photo" sequence="40" />

    
    </data>
</odoo>
