<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- =============================================================== -->
    <!-- LEGAL CITATION TYPE VIEWS -->
    <!-- =============================================================== -->

    <!-- Legal Citation Type List View -->
    <record id="legal_citation_type_view_tree" model="ir.ui.view">
        <field name="name">legal.citation.type.tree</field>
        <field name="model">legal.citation.type</field>
        <field name="arch" type="xml">
            <list string="Legal Citation Types" editable="bottom">
                <field name="sequence" widget="handle"/>
                <field name="code"/>
                <field name="name"/>
                <field name="description"/>
                <field name="active" widget="boolean_toggle"/>
            </list>
        </field>
    </record>

    <!-- Legal Citation Type Form View -->
    <record id="legal_citation_type_view_form" model="ir.ui.view">
        <field name="name">legal.citation.type.form</field>
        <field name="model">legal.citation.type</field>
        <field name="arch" type="xml">
            <form string="Legal Citation Type">
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                            <field name="active" widget="boolean_button" options='{"terminology": "archive"}'/>
                        </button>
                    </div>
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="code"/>
                        </group>
                        <group>
                            <field name="sequence"/>
                        </group>
                    </group>
                    <group>
                        <field name="description"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Legal Citation Type Search View -->
    <record id="legal_citation_type_view_search" model="ir.ui.view">
        <field name="name">legal.citation.type.search</field>
        <field name="model">legal.citation.type</field>
        <field name="arch" type="xml">
            <search string="Legal Citation Types">
                <field name="name"/>
                <field name="code"/>
                <filter string="Active" name="active" domain="[('active', '=', True)]"/>
                <filter string="Archived" name="inactive" domain="[('active', '=', False)]"/>
            </search>
        </field>
    </record>

    <!-- Legal Citation Type Action -->
    <record id="legal_citation_type_action" model="ir.actions.act_window">
        <field name="name">Legal Citation Types</field>
        <field name="res_model">legal.citation.type</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'search_default_active': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a new Legal Citation Type
            </p>
            <p>
                Citation types categorize legal citations by jurisdiction level (Federal, State, County, City, etc.)
            </p>
        </field>
    </record>

    <!-- =============================================================== -->
    <!-- RECORD DISPOSITION VIEWS -->
    <!-- =============================================================== -->

    <!-- Record Disposition List View -->
    <record id="record_disposition_view_tree" model="ir.ui.view">
        <field name="name">record.disposition.tree</field>
        <field name="model">record.disposition</field>
        <field name="arch" type="xml">
            <list string="Disposition Methods" editable="bottom">
                <field name="sequence" widget="handle"/>
                <field name="code"/>
                <field name="name"/>
                <field name="is_destructive" widget="boolean_toggle"/>
                <field name="requires_certificate" widget="boolean_toggle"/>
                <field name="active" widget="boolean_toggle"/>
            </list>
        </field>
    </record>

    <!-- Record Disposition Form View -->
    <record id="record_disposition_view_form" model="ir.ui.view">
        <field name="name">record.disposition.form</field>
        <field name="model">record.disposition</field>
        <field name="arch" type="xml">
            <form string="Disposition Method">
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                            <field name="active" widget="boolean_button" options='{"terminology": "archive"}'/>
                        </button>
                    </div>
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="code"/>
                        </group>
                        <group>
                            <field name="sequence"/>
                            <field name="is_destructive"/>
                            <field name="requires_certificate"/>
                        </group>
                    </group>
                    <group>
                        <field name="description"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Record Disposition Search View -->
    <record id="record_disposition_view_search" model="ir.ui.view">
        <field name="name">record.disposition.search</field>
        <field name="model">record.disposition</field>
        <field name="arch" type="xml">
            <search string="Disposition Methods">
                <field name="name"/>
                <field name="code"/>
                <filter string="Destructive" name="destructive" domain="[('is_destructive', '=', True)]"/>
                <filter string="Non-Destructive" name="non_destructive" domain="[('is_destructive', '=', False)]"/>
                <filter string="Requires Certificate" name="requires_cert" domain="[('requires_certificate', '=', True)]"/>
                <filter string="Active" name="active" domain="[('active', '=', True)]"/>
                <filter string="Archived" name="inactive" domain="[('active', '=', False)]"/>
                <group expand="0" string="Group By">
                    <filter string="Destructive" name="group_destructive" context="{'group_by': 'is_destructive'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- Record Disposition Action -->
    <record id="record_disposition_action" model="ir.actions.act_window">
        <field name="name">Disposition Methods</field>
        <field name="res_model">record.disposition</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'search_default_active': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a new Disposition Method
            </p>
            <p>
                Disposition methods define how records are handled at the end of retention (Shred, Archive, Transfer, etc.)
            </p>
        </field>
    </record>

    <!-- =============================================================== -->
    <!-- LEGAL CITATION VIEWS -->
    <!-- =============================================================== -->

    <!-- Legal Citation List View -->
    <record id="legal_citation_view_tree" model="ir.ui.view">
        <field name="name">legal.citation.tree</field>
        <field name="model">legal.citation</field>
        <field name="arch" type="xml">
            <list string="Legal Citations">
                <field name="code"/>
                <field name="title"/>
                <field name="legal_citation_type_id"/>
                <field name="jurisdiction"/>
                <field name="retention_value"/>
                <field name="retention_unit"/>
                <field name="active" widget="boolean_toggle"/>
            </list>
        </field>
    </record>

    <!-- Legal Citation Form View -->
    <record id="legal_citation_view_form" model="ir.ui.view">
        <field name="name">legal.citation.form</field>
        <field name="model">legal.citation</field>
        <field name="arch" type="xml">
            <form string="Legal Citation">
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                            <field name="active" widget="boolean_button" options='{"terminology": "archive"}'/>
                        </button>
                    </div>
                    <div class="oe_title">
                        <h1>
                            <field name="code" placeholder="Citation Code (e.g., HIPAA-164, IRS-GEN, SOX-802)"/>
                        </h1>
                        <h2>
                            <field name="title" placeholder="Citation Title"/>
                        </h2>
                    </div>
                    <group>
                        <group string="Legal Details">
                            <field name="legal_citation_type_id"/>
                            <field name="law_act_code"/>
                            <field name="law_act_code_title"/>
                            <field name="section"/>
                            <field name="jurisdiction"/>
                        </group>
                        <group string="Retention Requirements">
                            <label for="retention_value"/>
                            <div class="o_row">
                                <field name="retention_value"/>
                                <field name="retention_unit"/>
                            </div>
                        </group>
                    </group>
                    <group string="Description">
                        <field name="description" nolabel="1"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Legal Citation Search View -->
    <record id="legal_citation_view_search" model="ir.ui.view">
        <field name="name">legal.citation.search</field>
        <field name="model">legal.citation</field>
        <field name="arch" type="xml">
            <search string="Legal Citations">
                <field name="code"/>
                <field name="title"/>
                <field name="law_act_code"/>
                <field name="jurisdiction"/>
                <filter string="Federal" name="federal" domain="[('legal_citation_type_id.code', '=', 'FED')]"/>
                <filter string="State" name="state" domain="[('legal_citation_type_id.code', '=', 'ST')]"/>
                <filter string="Active" name="active" domain="[('active', '=', True)]"/>
                <filter string="Archived" name="inactive" domain="[('active', '=', False)]"/>
                <group expand="0" string="Group By">
                    <filter string="Citation Type" name="group_type" context="{'group_by': 'legal_citation_type_id'}"/>
                    <filter string="Jurisdiction" name="group_jurisdiction" context="{'group_by': 'jurisdiction'}"/>
                    <filter string="Retention Period" name="group_retention" context="{'group_by': 'retention_unit'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- Legal Citation Action -->
    <record id="legal_citation_action" model="ir.actions.act_window">
        <field name="name">Legal Citations</field>
        <field name="res_model">legal.citation</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'search_default_active': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a new Legal Citation
            </p>
            <p>
                Legal citations describe laws, regulations, or codes that justify retention policies.
                Examples: HIPAA medical records, IRS tax documents, SOX financial records.
            </p>
        </field>
    </record>

    <!-- =============================================================== -->
    <!-- RECORD SERIES VIEWS -->
    <!-- =============================================================== -->

    <!-- Record Series List View -->
    <record id="record_series_view_tree" model="ir.ui.view">
        <field name="name">record.series.tree</field>
        <field name="model">record.series</field>
        <field name="arch" type="xml">
            <list string="Record Series">
                <field name="code"/>
                <field name="name"/>
                <field name="category"/>
                <field name="partner_id"/>
                <field name="default_retention_value"/>
                <field name="default_retention_unit"/>
                <field name="disposition_id"/>
                <field name="active" widget="boolean_toggle"/>
            </list>
        </field>
    </record>

    <!-- Record Series Form View -->
    <record id="record_series_view_form" model="ir.ui.view">
        <field name="name">record.series.form</field>
        <field name="model">record.series</field>
        <field name="arch" type="xml">
            <form string="Record Series">
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                            <field name="active" widget="boolean_button" options='{"terminology": "archive"}'/>
                        </button>
                    </div>
                    <div class="oe_title">
                        <h1>
                            <field name="code" placeholder="Series Code (e.g., HR-PERS, TAX-PYRL, LEG-CNTR)"/>
                        </h1>
                        <h2>
                            <field name="name" placeholder="Series Name"/>
                        </h2>
                    </div>
                    <group>
                        <group string="Classification">
                            <field name="category"/>
                            <field name="partner_id" options="{'no_create': True}"/>
                            <field name="department_id" options="{'no_create': True}"/>
                        </group>
                        <group string="Disposition">
                            <field name="disposition_id"/>
                            <label for="default_retention_value"/>
                            <div class="o_row">
                                <field name="default_retention_value"/>
                                <field name="default_retention_unit"/>
                            </div>
                        </group>
                    </group>
                    <notebook>
                        <page string="Legal Citations" name="legal_citations">
                            <field name="legal_citation_ids" widget="many2many_tags">
                                <list>
                                    <field name="code"/>
                                    <field name="title"/>
                                    <field name="jurisdiction"/>
                                    <field name="retention_value"/>
                                    <field name="retention_unit"/>
                                </list>
                            </field>
                        </page>
                        <page string="Description" name="description">
                            <field name="description" placeholder="Detailed description of what records belong to this series..."/>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Record Series Search View -->
    <record id="record_series_view_search" model="ir.ui.view">
        <field name="name">record.series.search</field>
        <field name="model">record.series</field>
        <field name="arch" type="xml">
            <search string="Record Series">
                <field name="code"/>
                <field name="name"/>
                <field name="category"/>
                <field name="partner_id"/>
                <filter string="My Company" name="my_company" domain="[('partner_id', '=', False)]"/>
                <filter string="Customer Specific" name="customer_specific" domain="[('partner_id', '!=', False)]"/>
                <filter string="Active" name="active" domain="[('active', '=', True)]"/>
                <filter string="Archived" name="inactive" domain="[('active', '=', False)]"/>
                <group expand="0" string="Group By">
                    <filter string="Category" name="group_category" context="{'group_by': 'category'}"/>
                    <filter string="Customer" name="group_partner" context="{'group_by': 'partner_id'}"/>
                    <filter string="Department" name="group_department" context="{'group_by': 'department_id'}"/>
                    <filter string="Disposition" name="group_disposition" context="{'group_by': 'disposition_id'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- Record Series Kanban View -->
    <record id="record_series_view_kanban" model="ir.ui.view">
        <field name="name">record.series.kanban</field>
        <field name="model">record.series</field>
        <field name="arch" type="xml">
            <kanban class="o_kanban_mobile">
                <field name="code"/>
                <field name="name"/>
                <field name="category"/>
                <field name="default_retention_value"/>
                <field name="default_retention_unit"/>
                <templates>
                    <t t-name="card">
                        <div class="oe_kanban_global_click">
                            <div class="o_kanban_record_top">
                                <div class="o_kanban_record_headings">
                                    <strong class="o_kanban_record_title"><field name="code"/> - <field name="name"/></strong>
                                </div>
                            </div>
                            <div class="o_kanban_record_body">
                                <field name="category"/>
                                <span class="badge badge-pill badge-info">
                                    <field name="default_retention_value"/> <field name="default_retention_unit"/>
                                </span>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <!-- Record Series Action -->
    <record id="record_series_action" model="ir.actions.act_window">
        <field name="name">Record Series</field>
        <field name="res_model">record.series</field>
        <field name="view_mode">tree,kanban,form</field>
        <field name="context">{'search_default_active': 1, 'search_default_my_company': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a new Record Series
            </p>
            <p>
                Record series group identical or related records for retention policy management.
                Examples: Personnel Files, Tax Records, Audit Reports, Legal Contracts.
            </p>
        </field>
    </record>

    <!-- =============================================================== -->
    <!-- MENU ITEMS (Under Records Management → Configuration → Records Retention) -->
    <!-- =============================================================== -->

    <menuitem id="menu_records_retention"
              name="Records Retention"
              parent="records_management.menu_records_configuration"
              sequence="50"/>

    <menuitem id="menu_legal_citation_type"
              name="Legal Citation Types"
              parent="menu_records_retention"
              action="legal_citation_type_action"
              sequence="10"/>

    <menuitem id="menu_legal_citation"
              name="Legal Citations"
              parent="menu_records_retention"
              action="legal_citation_action"
              sequence="20"/>

    <menuitem id="menu_record_disposition"
              name="Disposition Methods"
              parent="menu_records_retention"
              action="record_disposition_action"
              sequence="30"/>

    <menuitem id="menu_record_series"
              name="Record Series"
              parent="menu_records_retention"
              action="record_series_action"
              sequence="40"/>

</odoo>
