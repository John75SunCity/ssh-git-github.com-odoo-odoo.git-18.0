<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

    <!-- POS CONFIG VIEWS - Records Management Integration -->
    <!-- Extends pos.config with only valid Records Management fields -->

    <!-- INHERITED FORM VIEW - Add Records Management section -->
    <record id="pos_config_form_inherit_records_management" model="ir.ui.view">
        <field name="name">pos.config.form.inherit.records_management</field>
        <field name="model">pos.config</field>
        <field name="inherit_id" ref="point_of_sale.pos_config_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form" position="inside">
                <separator string="Records Management Integration"/>
                <group>
                    <group string="Feature Settings">
                        <field name="enable_records_management" widget="boolean_toggle"/>
                        <field name="enable_walk_in_service" widget="boolean_toggle"
                            invisible="not enable_records_management"/>
                        <field name="enable_pos_customer_history" widget="boolean_toggle"
                            invisible="not enable_records_management"/>
                    </group>
                    <group string="Service Configuration"
                        invisible="not enable_records_management">
                        <field name="destruction_service_product_id"/>
                        <field name="pickup_request_product_id"/>
                        <field name="default_destruction_location_id"/>
                    </group>
                </group>

                <separator string="Walk-In Customer Configuration"
                    invisible="not enable_walk_in_service"/>
                <group invisible="not enable_walk_in_service">
                    <group string="Customer Setup">
                        <field name="walk_in_customer_id"/>
                        <field name="walk_in_pricelist_id"/>
                    </group>
                    <group string="Automation Options">
                        <field name="auto_create_customer" widget="boolean_toggle"/>
                        <field name="require_customer_info" widget="boolean_toggle"/>
                    </group>
                </group>
            </xpath>
        </field>
    </record>
    </data>
</odoo>
