<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
<!-- List view for shredding.service.event -->
    <record id="shredding_service_event_view_tree" model="ir.ui.view">
        <field name="name">shredding.service.event.view.list</field>
        <field name="model">shredding.service.event</field>
        <field name="arch" type="xml">
        <list>
            <field name="service_date"/>
            <field name="bin_id"/>
            <field name="service_type" widget="badge"/>
            <field name="fill_level_at_service" widget="badge"
                   decoration-success="fill_level_at_service == '100'"
                   decoration-info="fill_level_at_service == '75'"
                   decoration-warning="fill_level_at_service == '50'"
                   decoration-danger="fill_level_at_service in ('25', '0')"/>
            <field name="service_customer_id"/>
            <field name="estimated_weight_lbs" sum="Total Estimated"/>
            <field name="actual_weight_lbs" sum="Total Actual"/>
            <field name="weight_variance_lbs" sum="Total Variance"
                   decoration-danger="weight_variance_lbs &lt; 0"/>
            <field name="billable_amount" sum="Total Billable"/>
            <field name="notes" optional="hide"/>
        </list>
    </field>
    </record>

<!-- View shredding.service.event form -->
    <record id="shredding_service_event_view_form" model="ir.ui.view">
        <field name="name">shredding.service.event.view.form</field>
        <field name="model">shredding.service.event</field>
        <field name="arch" type="xml">
        <form string="Shredding Service Event">
            <sheet>
                <div class="oe_title">
                    <label for="display_name"/>
                    <h1>
                        <field name="display_name" readonly="1"/>
                    </h1>
                </div>
                <group>
                    <group name="service_details" string="Service Details">
                        <field name="bin_id"/>
                        <field name="service_date"/>
                        <field name="service_type"/>
                        <field name="fill_level_at_service" widget="radio" options="{'horizontal': true}"/>
                        <field name="service_customer_id"/>
                        <field name="service_location_id"/>
                        <field name="service_department_id"/>
                    </group>
                    <group name="weight_details" string="Weight Calculations">
                        <field name="estimated_weight_lbs" readonly="1"/>
                        <field name="actual_weight_lbs" readonly="1"/>
                        <field name="weight_variance_lbs" readonly="1"
                               decoration-danger="weight_variance_lbs &lt; 0"/>
                    </group>
                </group>
                <group>
                    <group name="billing_details" string="Billing Details">
                        <field name="billable_amount"/>
                        <!-- Removed always-invisible 'currency_id'; event costs resolved via monetary fields -->
                        <field name="billing_status"/>
                        <field name="invoice_line_id" readonly="1"/>
                    </group>
                </group>
                <group name="additional_info" string="Additional Information">
                    <field name="work_order_id"/>
                    <field name="performed_by_id"/>
                    <field name="notes" placeholder="Service notes and observations..."/>
                </group>
            </sheet>
            <div class="oe_chatter">
                <field name="message_follower_ids"/>
                <field name="activity_ids"/>
                <field name="message_ids"/>
            </div>
        </form>
    </field>
    </record>

<!-- View shredding.service.event search -->
    <record id="shredding_service_event_view_search" model="ir.ui.view">
        <field name="name">shredding.service.event.view.search</field>
        <field name="model">shredding.service.event</field>
        <field name="arch" type="xml">
        <search>
            <field name="bin_id"/>
            <field name="service_customer_id"/>
            <field name="service_type"/>
            <field name="service_date"/>
            <filter string="Today" name="today" domain="[('service_date', '>=', context_today().strftime('%Y-%m-%d 00:00:00')), ('service_date', '&lt;=', context_today().strftime('%Y-%m-%d 23:59:59'))]"/>
            <filter string="This Week" name="this_week" domain="[('service_date', '>=', (context_today() - datetime.timedelta(days=context_today().weekday())).strftime('%Y-%m-%d 00:00:00'))]"/>
            <filter string="This Month" name="this_month" domain="[('service_date', '>=', context_today().strftime('%Y-%m-01 00:00:00'))]"/>
            <separator/>
            <filter string="Tips" name="tips" domain="[('service_type', '=', 'tip')]"/>
            <filter string="Pickups" name="pickups" domain="[('service_type', '=', 'pickup')]"/>
            <group expand="1" string="Group By">
                <filter string="Bin" name="group_bin" domain="[]" context="{'group_by':'bin_id'}"/>
                <filter string="Customer" name="group_customer" domain="[]" context="{'group_by':'service_customer_id'}"/>
                <filter string="Service Type" name="group_service_type" domain="[]" context="{'group_by':'service_type'}"/>
                <filter string="Service Date" name="group_service_date" domain="[]" context="{'group_by':'service_date:day'}"/>
            </group>
        </search>
    </field>
    </record>

<!-- Action shredding.service.event -->
    <record id="action_shredding_service_event" model="ir.actions.act_window">
        <field name="name">Shredding Service Event</field>
        <field name="res_model">shredding.service.event</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[]</field>
        <field name="context">{}</field>
        <field name="help" type="html">
        <p class="oe_view_nocontent_create">
            There is no examples click here to add new Shredding Service Event.
        </p>
    </field>
    </record>
    </data>
</odoo>
