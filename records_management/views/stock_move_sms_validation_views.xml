<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
<!-- SMS Validation Form View -->
<record id="stock_move_sms_validation_view_form" model="ir.ui.view">
    <field name="name">stock.move.sms.validation.view.form</field>
    <field name="model">stock.move.sms.validation</field>
<field name="arch" type="xml">
<form string="SMS Validation">
    <header>
        <button name="action_send_sms" type="object" string="Send SMS" class="btn-primary" invisible="is_validated == True"/>
        <field name="is_validated" widget="boolean_toggle"/>
    </header>
    <sheet>
        <group>
            <group string="Basic Information">
                <field name="name"/>

<field name="move_id"/>
<field name="picking_id"/>
<field name="user_id"/>
</group>
<group string="Validation Details">
<field name="sms_code"/>
<field name="validation_date"/>
<field name="company_id" groups="base.group_multi_company"/>
<field name="active"/>
</group>
</group>
</sheet>
<div class="oe_chatter">
<field name="message_follower_ids"/>
<field name="activity_ids"/>
<field name="message_ids"/>
</div>
</form>
</field>
</record>

<!-- SMS Validation List View -->
<record id="stock_move_sms_validation_view_tree" model="ir.ui.view">
    <field name="name">stock.move.sms.validation.view.tree</field>
    <field name="model">stock.move.sms.validation</field>
<field name="arch" type="xml">
<list string="SMS Validations" decoration-success="is_validated == True" decoration-warning="is_validated == False">
    <field name="name"/>
    <field name="picking_id"/>
    <field name="user_id"/>
    <field name="is_validated" widget="boolean_toggle"/>
    <field name="validation_date"/>
    <field name="company_id" groups="base.group_multi_company"/>
</list>
</field>
</record>

<!-- SMS Validation Search View -->
<record id="stock_move_sms_validation_view_search" model="ir.ui.view">
    <field name="name">stock.move.sms.validation.view.search</field>
    <field name="model">stock.move.sms.validation</field>
    <field name="arch" type="xml">
<search string="Search SMS Validations">
    <field name="name"/>
    <field name="picking_id"/>
    <field name="user_id"/>
    <filter string="Validated" name="validated" domain="[('is_validated', '=', True)]"/>
    <filter string="Pending" name="pending" domain="[('is_validated', '=', False)]"/>
    <separator/>
    <filter string="Active" name="active" domain="[('active', '=', True)]"/>
    <group expand="0" string="Group By">
        <filter string="User" name="group_user" context="{'group_by': 'user_id'}"/>
        <filter string="Transfer" name="group_picking" context="{'group_by': 'picking_id'}"/>
        <filter string="Validation Status" name="group_status" context="{'group_by': 'is_validated'}"/>
        <filter string="Company" name="group_company" context="{'group_by': 'company_id'}" groups="base.group_multi_company"/>
    </group>
</search>
</field>
</record>

<!-- SMS Validation Action -->
<record id="stock_move_sms_validation_action" model="ir.actions.act_window">
    <field name="name">SMS Validations</field>
    <field name="res_model">stock.move.sms.validation</field>
<field name="view_mode">tree,form</field>
<field name="context">{'search_default_pending': 1}</field>
<field name="help" type="html">
<p class="o_view_nocontent_smiling_face">
                    Create your first SMS validation!
</p>
<p>
                    SMS validations provide secure confirmation for stock moves and transfers.
</p>
</field>
</record>
<!-- Menu Item -->
<menuitem id="stock_move_sms_validation_menu" name="SMS Validations" parent="records_management.menu_records_operations" action="stock_move_sms_validation_action" sequence="60"/>

</data>
</odoo>
