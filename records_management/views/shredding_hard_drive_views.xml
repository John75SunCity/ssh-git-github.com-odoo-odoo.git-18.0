<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <data>
<!-- Tree view for base.rate -->
    <record id="shredding_hard_drive_view_tree" model="ir.ui.view">
        <field name="name">shredding.hard_drive.view.tree</field>
        <field name="model">shredding.hard_drive</field>
        <field name="type">list</field>
        <field name="arch" type="xml">
            <list>
                <field name="name"/>
            </list>
        </field>
    </record>

    <!-- Form view for base.rate -->
    <record id="shredding_hard_drive_view_form" model="ir.ui.view">
        <field name="name">shredding.hard_drive.view.form</field>
        <field name="model">shredding.hard_drive</field>
        <field name="type">list</field>
        <field name="arch" type="xml">
            <form string="Shredding Hard_drive">
                <sheet>
                    <div class="oe_title">
                        <label for="name"/>
                        <h1>
                            <field name="name" placeholder="Name..."/>
                        </h1>
                    </div>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Search view for base.rate -->
    <record id="shredding_hard_drive_view_search" model="ir.ui.view">
        <field name="name">shredding.hard_drive.view.search</field>
        <field name="model">shredding.hard_drive</field>
        <field name="type">list</field>
        <field name="arch" type="xml">
            <search>
                <group expand="1" string="Group By">
                    <filter string="Name" name="name" domain="[]" context="{'group_by':'name'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- Tree view for Action -->
    <record id="action_shredding_hard_drive" model="ir.actions.act_window">
        <field name="name">Shredding Hard_drive</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">shredding.hard_drive</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[]</field>
        <field name="context">{}</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                There is no examples click here to add new Shredding Hard_drive.
            </p>
        </field>
    </record>

<!-- Form view for Hard -->
    <record id="hard_drive_scan_wizard_view_form" model="ir.ui.view">
        <field name="name">hard_drive.scan.wizard.view.form</field>
        <field name="model">shredding.hard_drive</field>
        <field name="type">list</field>
        <field name="arch" type="xml">
            <form string="Hard Drive Serial Number Scanner">
                <header>
                    <button name="action_finish_scan" string="Finish Scanning" type="object" 
                            class="btn-primary" invisible="scan_count == 0"/>
                    <button name="action_view_scanned_drives" string="View All Drives" type="object" 
                            class="btn-secondary"/>
                </header>
                
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="scan_location" widget="radio" options="{'horizontal': true}"/>
                        </h1>
                        <div class="o_row">
                            <label for="service_request_id" string="Service:"/>
                            <field name="service_request_id"/>
                        </div>
                    </div>
                    
                    <group>
                        <group string="Serial Number Scanning">
                            <field name="serial_number" placeholder="Scan or type serial number..." 
                                   widget="char" required="not bulk_serial_input"/>
                            <button name="action_scan_serial" string="Add Serial Number" type="object" 
                                    class="btn-success" invisible="not serial_number"/>
                        </group>
                        
                        <group string="Scan Progress">
                            <field name="scan_count" readonly="1"/>
                            <field name="scanned_serials" readonly="1" widget="text" 
                                   invisible="scan_count == 0"/>
                        </group>
                    </group>
                    
                    <separator string="Bulk Scanning (Optional)"/>
                    <group>
                        <field name="bulk_serial_input" placeholder="Paste multiple serial numbers, one per line..."
                               widget="text" nolabel="1"/>
                        <button name="action_bulk_scan" string="Process Bulk Scan" type="object" 
                                class="btn-warning" invisible="not bulk_serial_input"/>
                    </group>
                    
                    <separator string="Notes"/>
                    <field name="scan_notes" placeholder="Add any notes about this scanning session..." 
                           widget="text" nolabel="1"/>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Tree view for Hard -->
    <record id="shredding_hard_drive_view_tree" model="ir.ui.view">
        <field name="name">shredding.hard_drive.view.tree</field>
        <field name="model">shredding.hard_drive</field>
        <field name="type">list</field>
        <field name="arch" type="xml">
            <tree string="Hard Drives for Shredding" decoration-success="destroyed" 
                  decoration-warning="verified_before_destruction and not destroyed"
                  decoration-info="scanned_at_customer and not verified_before_destruction">
                <field name="serial_number"/>
                <field name="scanned_at_customer" widget="boolean_toggle"/>
                <field name="scanned_at_customer_date"/>
                <field name="scanned_at_customer_by"/>
                <field name="verified_before_destruction" widget="boolean_toggle"/>
                <field name="verified_at_facility_date"/>
                <field name="verified_at_facility_by"/>
                <field name="destroyed" widget="boolean_toggle"/>
                <field name="destruction_date"/>
                <field name="destruction_method"/>
                <field name="included_in_certificate" widget="boolean_toggle"/>
            </tree>
        </field>
    </record>

    <!-- Form view for Hard -->
    <record id="shredding_hard_drive_view_form" model="ir.ui.view">
        <field name="name">shredding.hard_drive.view.form</field>
        <field name="model">shredding.hard_drive</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Hard Drive Details">
                <header>
                    <button name="action_mark_customer_scanned" string="Mark Customer Scanned" 
                            type="object" class="btn-primary" 
                            invisible="scanned_at_customer"/>
                    <button name="action_mark_facility_verified" string="Mark Facility Verified" 
                            type="object" class="btn-warning" 
                            invisible="verified_before_destruction or not scanned_at_customer"/>
                    <button name="action_mark_destroyed" string="Mark Destroyed" 
                            type="object" class="btn-danger" 
                            invisible="destroyed or not verified_before_destruction"/>
                    <field name="destroyed" widget="statusbar" statusbar_visible="false,true"/>
                </header>
                
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="serial_number" placeholder="Serial Number"/>
                        </h1>
                        <div class="o_row">
                            <label for="service_request_id" string="Service:"/>
                            <field name="service_request_id"/>
                        </div>
                    </div>
                    
                    <group>
                        <group string="Customer Location Scanning">
                            <field name="scanned_at_customer" widget="boolean_toggle"/>
                            <field name="scanned_at_customer_date" readonly="not scanned_at_customer"/>
                            <field name="scanned_at_customer_by" readonly="not scanned_at_customer"/>
                            <field name="customer_location_notes" readonly="not scanned_at_customer"/>
                        </group>
                        
                        <group string="Facility Verification">
                            <field name="verified_before_destruction" widget="boolean_toggle"/>
                            <field name="verified_at_facility_date" readonly="not verified_before_destruction"/>
                            <field name="verified_at_facility_by" readonly="not verified_before_destruction"/>
                            <field name="facility_verification_notes" readonly="not verified_before_destruction"/>
                        </group>
                    </group>
                    
                    <group>
                        <group string="Destruction Details">
                            <field name="destruction_method" readonly="not destroyed"/>
                            <field name="destruction_date" readonly="not destroyed"/>
                        </group>
                        
                        <group string="Certificate Information">
                            <field name="included_in_certificate" widget="boolean_toggle"/>
                            <field name="certificate_line_text" readonly="1"/>
                            <field name="hashed_serial" readonly="1" password="True"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Tree view for Hard -->
    <record id="action_shredding_hard_drive" model="ir.actions.act_window">
        <field name="name">Hard Drives</field>
        <field name="res_model">shredding.hard_drive</field>
        <field name="view_mode">list,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create a hard drive record for tracking serial numbers through the destruction process.
            </p>
            <p>
                Hard drives are scanned at customer locations, verified at the facility before destruction,
                and tracked for NAID compliance certificates.
            </p>
        </field>
    </record>

    <!-- Tree view for Scanner -->
    <record id="action_hard_drive_scan_customer" model="ir.actions.act_window">
        <field name="name">Scan at Customer Location</field>
        <field name="res_model">shredding.hard_drive</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="context">{'default_scan_location': 'customer'}</field>
    </record>

    <record id="action_hard_drive_scan_facility" model="ir.actions.act_window">
        <field name="name">Verify at Facility</field>
        <field name="res_model">shredding.hard_drive</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="context">{'default_scan_location': 'facility'}</field>
    </record>
</data>

</odoo>
