<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="shredding_hard_drive_view_tree" model="ir.ui.view">
            <field name="name">shredding.hard_drive.view.tree</field>
            <field name="model">shredding.hard_drive</field>
            <field name="arch" type="xml">
                <list>
                    <field name="name" />
                </list>
            </field>
        </record>
        <record id="shredding_hard_drive_view_form" model="ir.ui.view">
            <field name="name">shredding.hard_drive.view.form</field>
            <field name="model">shredding.hard_drive</field>
            <field name="arch" type="xml">
                <form string="Shredding Hard_drive">
                    <sheet>
                        <div class="oe_title">
                            <label for="name" />
                            <h1>
                                <field name="name" placeholder="Name..." />
                            </h1>
                        </div>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="shredding_hard_drive_view_search" model="ir.ui.view">
            <field name="name">shredding.hard_drive.view.search</field>
            <field name="model">shredding.hard_drive</field>
            <field name="arch" type="xml">
                <search>
                    <group expand="1" string="Group By">
                        <filter string="Name" name="name" domain="[]" context="{'group_by':'name'}" />
                    </group>
                </search>
            </field>
        </record>
        <record id="action_shredding_hard_drive" model="ir.actions.act_window">
            <!-- OPTIMIZATION: Model shredding.hard_drive has state field - consider using default search filters -->
            <field name="name">Shredding Hard_drive</field>
            <field name="res_model">shredding.hard_drive</field>
            <field name="view_mode">list,form</field>
            <field name="domain">[]</field>
            <field name="context">{}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
            There is no examples click here to add new Shredding Hard_drive.
        </p>
            </field>
        </record>
        <record id="hard_drive_scan_wizard_view_form" model="ir.ui.view">
            <field name="name">hard_drive.scan.wizard.view.form</field>
            <field name="model">hard.drive.scan.wizard</field>
            <field name="arch" type="xml">
                <form string="Hard Drive Serial Number Scanner">
                    <header>
                        <button name="action_confirm_destruction" string="Finish Scanning" type="object" class="btn-primary" invisible="not scan_line_ids" />
                        <button name="action_process_scanned_serials" string="Process Text Input" type="object" class="btn-secondary" />
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <h1>Hard Drive Destruction Wizard</h1>
                            <div class="o_row">
                                <label for="fsm_task_id" string="FSM Task:" />
                                <field name="fsm_task_id" />
                            </div>
                            <div class="o_row">
                                <label for="partner_id" string="Customer:" />
                                <field name="partner_id" />
                            </div>
                        </div>
                        <group>
                            <group string="Destruction Settings">
                                <field name="destruction_method" />
                            </group>
                            <group string="Serial Number Entry">
                                <field name="serial_numbers_text" placeholder="Enter serial numbers, one per line..." />
                                <button name="action_process_scanned_serials" string="Add Serial Numbers" type="object" class="btn-success" invisible="not serial_numbers_text" />
                            </group>
                        </group>
                        <separator string="Scanned Hard Drives" />
                        <field name="scan_line_ids">
                            <list editable="bottom">
                                <field name="serial_number" />
                            </list>
                        </field>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="shredding_hard_drive_view_tree" model="ir.ui.view">
            <field name="name">shredding.hard_drive.view.tree</field>
            <field name="model">shredding.hard_drive</field>
            <field name="arch" type="xml">
                <list string="Hard Drives for Shredding" decoration-success="state=='destroyed'" decoration-warning="state=='scanned'" decoration-info="state=='draft'">
                    <field name="serial_number" />
                    <field name="state" widget="badge" />
                    <field name="destruction_date" />
                    <field name="destruction_method" />
                    <field name="destruction_technician_id" />
                    <field name="fsm_task_id" />
                    <field name="partner_id" />
                    <field name="certificate_id" />
                </list>
            </field>
        </record>
        <record id="shredding_hard_drive_view_form" model="ir.ui.view">
            <field name="name">shredding.hard_drive.view.form</field>
            <field name="model">shredding.hard_drive</field>
            <field name="arch" type="xml">
                <form string="Hard Drive Details">
                    <header>
                        <field name="state" widget="statusbar" statusbar_visible="draft,scanned,destroyed,certified" />
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="serial_number" placeholder="Serial Number" />
                            </h1>
                            <div class="o_row">
                                <label for="name" string="Reference:" />
                                <field name="name" />
                            </div>
                        </div>
                        <group>
                            <group string="Drive Information">
                                <field name="fsm_task_id" />
                                <field name="partner_id" />
                                <field name="destruction_method" />
                            </group>
                            <group string="Destruction Details">
                                <field name="destruction_date" />
                                <field name="destruction_technician_id" />
                                <field name="certificate_id" />
                            </group>
                        </group>
                        <group string="Security">
                            <field name="hashed_serial" readonly="1" />
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="action_shredding_hard_drive" model="ir.actions.act_window">
            <!-- OPTIMIZATION: Model shredding.hard_drive has state field - consider using default search filters -->
            <field name="name">Hard Drive Destruction</field>
            <field name="res_model">shredding.hard_drive</field>
            <field name="view_mode">list,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    <i class="fa fa-hdd-o"/> No hard drives tracked yet!
                </p>
                <p>
                    <b>‚ö†Ô∏è Prerequisites:</b>
                </p>
                <ul>
                    <li>‚úì <b>FSM Task Created</b> - Go to: <i>Field Service &gt; Tasks</i></li>
                    <li>‚úì <b>Customer Authorization</b> - Hard drive destruction must be customer-approved</li>
                    <li>‚úì <b>NAID Certification</b> - Go to: <i>Compliance &gt; NAID Settings</i></li>
                    <li>‚úì <b>Mobile Scanner</b> - Barcode scanner or mobile device with camera</li>
                </ul>
                <p>
                    <b>üìã Two-Step Verification Workflow:</b>
                </p>
                <ol>
                    <li><b>STEP 1: Scan at Customer Site</b></li>
                    <li>Field technician clicks <b>Scan Hard Drives at Customer</b> action</li>
                    <li>Opens <b>Hard Drive Scan Wizard</b> linked to FSM task</li>
                    <li>Select <b>Customer</b> and <b>Destruction Method</b> (physical/degaussing/shredding)</li>
                    <li>Scan each hard drive serial number with barcode scanner</li>
                    <li>Or paste serial numbers into text field (one per line) and click <b>Add Serial Numbers</b></li>
                    <li>System creates hard drive records in <b>Scanned</b> state</li>
                    <li>Customer witnesses scanning and signs acknowledgment on mobile device</li>
                    <li><b>Chain of custody begins</b> - system logs tech name, GPS location, timestamp</li>
                    <li><b>STEP 2: Verify at Facility Before Destruction</b></li>
                    <li>Hard drives arrive at secure facility in sealed container</li>
                    <li>Destruction technician clicks <b>Verify Hard Drives at Facility</b> action</li>
                    <li>Scan each drive serial number again to confirm receipt</li>
                    <li>System matches scanned serial to customer pickup list</li>
                    <li>Flags any <b>missing drives</b> (scanned at customer but not received)</li>
                    <li>Flags any <b>extra drives</b> (received but not on customer list)</li>
                    <li>Once verified, drives move to <b>Destroyed</b> status queue</li>
                    <li>Physical destruction: drill press, hammer, or industrial shredder</li>
                    <li>Log <b>Destruction Date</b>, <b>Method</b>, and <b>Technician</b></li>
                    <li>System generates <b>Certificate of Destruction</b> with serial number list</li>
                    <li>Certificate moves to <b>Certified</b> status, ready for customer delivery</li>
                    <li>All serial numbers stored as <b>SHA-256 hashes</b> for tamper-proof compliance</li>
                </ol>
                <p>
                    <b>üìä Hard Drive States:</b>
                </p>
                <ul>
                    <li><b>Draft:</b> Record created but not yet scanned at customer site</li>
                    <li><b>Scanned:</b> Serial captured at customer location, in transit to facility</li>
                    <li><b>Destroyed:</b> Physical destruction completed, awaiting certificate generation</li>
                    <li><b>Certified:</b> Certificate issued, customer notified, audit trail sealed</li>
                </ul>
                <p>
                    <b>üöÄ Key Features:</b><br/>
                    ‚Ä¢ <b>Two-Step Verification:</b> Scan at pickup + re-scan at facility prevents loss/theft<br/>
                    ‚Ä¢ <b>Serial Number Hashing:</b> SHA-256 encryption protects customer data confidentiality<br/>
                    ‚Ä¢ <b>Missing Drive Alerts:</b> Auto-flags discrepancies between pickup scan and facility receipt<br/>
                    ‚Ä¢ <b>FSM Integration:</b> Links to Field Service tasks for mobile technician workflow<br/>
                    ‚Ä¢ <b>Bulk Scanning:</b> Process 100+ drives in minutes with batch text input<br/>
                    ‚Ä¢ <b>NAID AAA Compliance:</b> Complete chain of custody, witness signatures, tamper-proof logs<br/>
                    ‚Ä¢ <b>Certificate Automation:</b> Auto-generate PDF with drive count, serials (hashed), destruction method<br/>
                    ‚Ä¢ <b>Mobile-Friendly:</b> Scan wizard works on tablets/phones for on-site data capture<br/>
                </p>
                <p>
                    <b>üí° Pro Tips:</b><br/>
                    ‚Ä¢ Always <b>scan at customer site</b> - provides legal proof of drive collection<br/>
                    ‚Ä¢ Use <b>text input</b> for drives without readable barcodes (paste from spreadsheet)<br/>
                    ‚Ä¢ <b>Re-scan at facility</b> is mandatory - catches transit losses before destruction<br/>
                    ‚Ä¢ Review <b>Scanned</b> filter daily to identify drives overdue for facility verification<br/>
                    ‚Ä¢ <b>Hashed serials</b> allow verification without exposing actual serial numbers to staff<br/>
                </p>
            </field>
        </record>
        <record id="action_hard_drive_scan_customer" model="ir.actions.act_window">
            <field name="name">Scan Hard Drives at Customer</field>
            <field name="res_model">hard.drive.scan.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="context">{'default_scan_step': 'pickup', 'default_two_step_verification': True}</field>
        </record>
        <record id="action_hard_drive_scan_facility" model="ir.actions.act_window">
            <field name="name">Verify Hard Drives at Facility</field>
            <field name="res_model">hard.drive.scan.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="context">{'default_scan_step': 'verification', 'default_two_step_verification': True}</field>
        </record>
    </data>
</odoo>
