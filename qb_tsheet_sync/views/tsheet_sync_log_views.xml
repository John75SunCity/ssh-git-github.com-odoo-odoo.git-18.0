<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
    <record id="tsheets_sync_log_view_list" model="ir.ui.view">
    <field name="name">qb.tsheets.sync.log.view.list</field>
    <field name="model">qb.tsheets.sync.log</field>
    <field name="arch" type="xml">
    <list decoration-success="status == 'success'" decoration-warning="status == 'partial'" decoration-danger="status == 'failed'">
    <field name="sync_date"/>
    <field name="config_id"/>
    <field name="date_from"/>
    <field name="date_to"/>
    <field name="status" widget="badge" decoration-success="status == 'success'" decoration-warning="status == 'partial'" decoration-danger="status == 'failed'"/>
    <field name="total_fetched"/>
    <field name="total_created"/>
    <field name="total_updated"/>
    <field name="total_failed"/>
    <button name="action_export_csv" type="object" string="Export CSV" icon="fa-download" groups="qb_tsheet_sync.group_tsheets_user"/>
    </list>
    </field>
    </record>
    <record id="tsheets_sync_log_view_form" model="ir.ui.view">
    <field name="name">qb.tsheets.sync.log.view.form</field>
    <field name="model">qb.tsheets.sync.log</field>
    <field name="arch" type="xml">
    <form string="TSheets Sync Log" create="0" edit="0" delete="0">
    <header>
    <button name="action_export_csv" type="object" string="Export to CSV" class="btn-primary" icon="fa-download"/>
    <field name="status" widget="statusbar"/>
    </header>
    <sheet>
    <div class="oe_title">
    <h1>
    <field name="sync_date"/>
    </h1>
    </div>
    <group>
    <group>
    <field name="config_id"/>
    <field name="date_from"/>
    <field name="date_to"/>
    </group>
    <group>
    <field name="total_fetched"/>
    <field name="total_created"/>
    <field name="total_updated"/>
    <field name="total_failed"/>
    </group>
    </group>
    <group string="Summary" groups="base.group_no_one">
    <field name="message" widget="text"/>
    <field name="error_details" widget="text" invisible="not error_details"/>
    </group>
    <notebook>
    <page string="Sync Details">
    <field name="line_ids">
    <list decoration-success="status == 'created' or status == 'updated'" 
    decoration-danger="status == 'failed'" 
    decoration-muted="status == 'skipped'">
    <field name="tsheets_id"/>
    <field name="employee_name"/>
    <field name="date"/>
    <field name="duration"/>
    <field name="project_name"/>
    <field name="task_name"/>
    <field name="status" widget="badge"/>
    <field name="timesheet_id"/>
    <field name="error_message"/>
    </list>
    </field>
    </page>
    <page string="Raw Data" groups="base.group_no_one">
    <field name="line_ids">
    <list>
    <field name="tsheets_id"/>
    <field name="status"/>
    <field name="raw_data" widget="text"/>
    </list>
    </field>
    </page>
    </notebook>
    </sheet>
    </form>
    </field>
    </record>
    <record id="action_tsheets_sync_log" model="ir.actions.act_window">
    <field name="name">TSheets Sync Logs</field>
    <field name="res_model">qb.tsheets.sync.log</field>
    <field name="view_mode">list,form</field>
    <field name="context">{}</field>
    </record>
    <menuitem id="menu_tsheets_sync_log"
    name="Sync Logs"
    parent="qb_tsheet_sync.menu_tsheets_root"
    action="action_tsheets_sync_log"
    sequence="30"
    groups="qb_tsheet_sync.group_tsheets_user,hr.group_hr_user,records_management.group_records_user"/>
    </data>
</odoo>