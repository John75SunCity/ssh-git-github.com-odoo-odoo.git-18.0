<?xml version="1.0" encoding="utf-8"?>
<templates id="template" xml:space="preserve">

    <!-- Trailer Visualization Widget Template -->
    <t t-name="records_management.TrailerVisualization">
        <div class="o_trailer_visualization">
            <div class="o_trailer_header">
                <h4>Trailer <t t-esc="widget.trailer_id"/>
                </h4>
                <div class="o_trailer_status">
                    <span t-att-class="'badge badge-' + widget.status_class">
                        <t t-esc="widget.status"/>
                    </span>
                </div>
            </div>

            <div class="o_trailer_body">
                <!-- Trailer Layout Visualization -->
                <div class="o_trailer_layout">
                    <svg class="o_trailer_svg" width="600" height="200">
                        <!-- Trailer Outline -->
                        <rect x="10" y="50" width="580" height="100" fill="none" stroke="#333" stroke-width="2"/>

                        <!-- Compartments -->
                        <t t-foreach="widget.compartments" t-as="compartment">
                            <rect t-att-x="compartment.x" t-att-y="compartment.y" t-att-width="compartment.width" t-att-height="compartment.height" t-att-fill="compartment.fill_color" stroke="#666" stroke-width="1"/>

                            <!-- Compartment Label -->
                            <text t-att-x="compartment.x + compartment.width/2" t-att-y="compartment.y + compartment.height/2" text-anchor="middle" dominant-baseline="middle" font-size="12">
                                <t t-esc="compartment.label"/>
                            </text>
                        </t>

                        <!-- Loading Doors -->
                        <rect x="590" y="75" width="10" height="50" fill="#4CAF50" stroke="#333"/>
                        <text x="595" y="105" text-anchor="middle" font-size="10">Door</text>
                    </svg>
                </div>

                <!-- Trailer Statistics -->
                <div class="row mt-3">
                    <div class="col-md-3">
                        <div class="card bg-light">
                            <div class="card-body text-center">
                                <h5 class="card-title text-primary">
                                    <t t-esc="widget.total_boxes"/>
                                </h5>
                                <p class="card-text">Total Boxes</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card bg-light">
                            <div class="card-body text-center">
                                <h5 class="card-title text-success">
                                    <t t-esc="widget.loaded_boxes"/>
                                </h5>
                                <p class="card-text">Loaded</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card bg-light">
                            <div class="card-body text-center">
                                <h5 class="card-title text-warning">
                                    <t t-esc="widget.capacity_percentage"/>
%
                                </h5>
                                <p class="card-text">Capacity</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card bg-light">
                            <div class="card-body text-center">
                                <h5 class="card-title text-info">
                                    <t t-esc="widget.weight_total"/>
                                </h5>
                                <p class="card-text">Weight (lbs)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <!-- Loading Progress Template -->
    <t t-name="records_management.TrailerLoadingProgress">
        <div class="o_loading_progress">
            <div class="progress mb-2">
                <div class="progress-bar" t-att-style="'width: ' + widget.loading_percentage + '%'" t-att-class="'bg-' + widget.progress_color">
                    <t t-esc="widget.loading_percentage"/>
%
                </div>
            </div>
            <small class="text-muted">
                <t t-esc="widget.loaded_count"/>
 of <t t-esc="widget.total_count"/>
 boxes loaded
            </small>
        </div>
    </t>

    <!-- Box Details Popup Template -->
    <t t-name="records_management.BoxDetailsPopup">
        <div class="modal fade" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Box Details</h5>
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">Ã—</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-6">
                                <p>
                                    <strong>Box ID:</strong>
                                    <t t-esc="widget.box_id"/>
                                </p>
                                <p>
                                    <strong>Department:</strong>
                                    <t t-esc="widget.department"/>
                                </p>
                                <p>
                                    <strong>Location:</strong>
                                    <t t-esc="widget.location"/>
                                </p>
                            </div>
                            <div class="col-md-6">
                                <p>
                                    <strong>Weight:</strong>
                                    <t t-esc="widget.weight"/>
 lbs</p>
                                <p>
                                    <strong>Documents:</strong>
                                    <t t-esc="widget.document_count"/>
                                </p>
                                <p>
                                    <strong>Status:</strong>
                                    <t t-esc="widget.status"/>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">View Details</button>
                    </div>
                </div>
            </div>
        </div>
    </t>

</templates>
